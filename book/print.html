<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Steel</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="about/about.html"><strong aria-hidden="true">1.</strong> Steel</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="about/features.html"><strong aria-hidden="true">1.1.</strong> Features</a></li><li class="chapter-item expanded "><a href="about/license.html"><strong aria-hidden="true">1.2.</strong> Licensing</a></li></ol></li><li class="chapter-item expanded "><a href="start/start.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="start/playground.html"><strong aria-hidden="true">2.1.</strong> Online Playground</a></li><li class="chapter-item expanded "><a href="start/standalone.html"><strong aria-hidden="true">2.2.</strong> Using Steel on its own</a></li><li class="chapter-item expanded "><a href="start/dylib.html"><strong aria-hidden="true">2.3.</strong> Using Rust in Steel</a></li><li class="chapter-item expanded "><a href="start/embedded.html"><strong aria-hidden="true">2.4.</strong> Embedding Steel in Rust</a></li></ol></li><li class="chapter-item expanded "><a href="engine/engine.html"><strong aria-hidden="true">3.</strong> The Rust Engine API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="engine/register_function.html"><strong aria-hidden="true">3.1.</strong> Registering functions</a></li><li class="chapter-item expanded "><a href="engine/embedding_values.html"><strong aria-hidden="true">3.2.</strong> Embedding values</a></li></ol></li><li class="chapter-item expanded "><a href="reference/language.html"><strong aria-hidden="true">4.</strong> Language Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/keywords.html"><strong aria-hidden="true">4.1.</strong> Keywords</a></li><li class="chapter-item expanded "><a href="reference/syntax.html"><strong aria-hidden="true">4.2.</strong> Syntax</a></li><li class="chapter-item expanded "><a href="reference/macros.html"><strong aria-hidden="true">4.3.</strong> Macros</a></li><li class="chapter-item expanded "><a href="reference/contracts.html"><strong aria-hidden="true">4.4.</strong> Contracts</a></li><li class="chapter-item expanded "><a href="reference/transducers.html"><strong aria-hidden="true">4.5.</strong> Transducers</a></li><li class="chapter-item expanded "><a href="reference/modules.html"><strong aria-hidden="true">4.6.</strong> Modules</a></li><li class="chapter-item expanded "><a href="reference/functions.html"><strong aria-hidden="true">4.7.</strong> Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="generated/logging.html"><strong aria-hidden="true">4.7.1.</strong> Logging</a></li><li class="chapter-item expanded "><a href="reference/builtins.html"><strong aria-hidden="true">4.7.2.</strong> Built ins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="builtins/steel_base.html"><strong aria-hidden="true">4.7.2.1.</strong> steel/base</a></li><li class="chapter-item expanded "><a href="builtins/steel_bytevectors.html"><strong aria-hidden="true">4.7.2.2.</strong> steel/bytevectors</a></li><li class="chapter-item expanded "><a href="builtins/steel_constants.html"><strong aria-hidden="true">4.7.2.3.</strong> steel/constants</a></li><li class="chapter-item expanded "><a href="builtins/steel_core_option.html"><strong aria-hidden="true">4.7.2.4.</strong> steel/core/option</a></li><li class="chapter-item expanded "><a href="builtins/steel_core_result.html"><strong aria-hidden="true">4.7.2.5.</strong> steel/core/result</a></li><li class="chapter-item expanded "><a href="builtins/steel_core_types.html"><strong aria-hidden="true">4.7.2.6.</strong> steel/core/types</a></li><li class="chapter-item expanded "><a href="builtins/steel_equality.html"><strong aria-hidden="true">4.7.2.7.</strong> steel/equality</a></li><li class="chapter-item expanded "><a href="builtins/steel_filesystem.html"><strong aria-hidden="true">4.7.2.8.</strong> steel/filesystem</a></li><li class="chapter-item expanded "><a href="builtins/steel_hash.html"><strong aria-hidden="true">4.7.2.9.</strong> steel/hash</a></li><li class="chapter-item expanded "><a href="builtins/steel_identity.html"><strong aria-hidden="true">4.7.2.10.</strong> steel/identity</a></li><li class="chapter-item expanded "><a href="builtins/steel_io.html"><strong aria-hidden="true">4.7.2.11.</strong> steel/io</a></li><li class="chapter-item expanded "><a href="builtins/steel_immutable-vectors.html"><strong aria-hidden="true">4.7.2.12.</strong> steel/immutable-vectors</a></li><li class="chapter-item expanded "><a href="builtins/steel_json.html"><strong aria-hidden="true">4.7.2.13.</strong> steel/json</a></li><li class="chapter-item expanded "><a href="builtins/steel_lists.html"><strong aria-hidden="true">4.7.2.14.</strong> steel/lists</a></li><li class="chapter-item expanded "><a href="builtins/steel_meta.html"><strong aria-hidden="true">4.7.2.15.</strong> steel/meta</a></li><li class="chapter-item expanded "><a href="builtins/steel_numbers.html"><strong aria-hidden="true">4.7.2.16.</strong> steel/numbers</a></li><li class="chapter-item expanded "><a href="builtins/steel_ord.html"><strong aria-hidden="true">4.7.2.17.</strong> steel/ord</a></li><li class="chapter-item expanded "><a href="builtins/steel_ports.html"><strong aria-hidden="true">4.7.2.18.</strong> steel/ports</a></li><li class="chapter-item expanded "><a href="builtins/steel_process.html"><strong aria-hidden="true">4.7.2.19.</strong> steel/process</a></li><li class="chapter-item expanded "><a href="builtins/steel_random.html"><strong aria-hidden="true">4.7.2.20.</strong> steel/random</a></li><li class="chapter-item expanded "><a href="builtins/steel_sets.html"><strong aria-hidden="true">4.7.2.21.</strong> steel/sets</a></li><li class="chapter-item expanded "><a href="builtins/steel_streams.html"><strong aria-hidden="true">4.7.2.22.</strong> steel/streams</a></li><li class="chapter-item expanded "><a href="builtins/steel_strings.html"><strong aria-hidden="true">4.7.2.23.</strong> steel/strings</a></li><li class="chapter-item expanded "><a href="builtins/steel_symbols.html"><strong aria-hidden="true">4.7.2.24.</strong> steel/symbols</a></li><li class="chapter-item expanded "><a href="builtins/steel_syntax.html"><strong aria-hidden="true">4.7.2.25.</strong> steel/syntax</a></li><li class="chapter-item expanded "><a href="builtins/steel_time.html"><strong aria-hidden="true">4.7.2.26.</strong> steel/time</a></li><li class="chapter-item expanded "><a href="builtins/steel_transducers.html"><strong aria-hidden="true">4.7.2.27.</strong> steel/transducers</a></li><li class="chapter-item expanded "><a href="builtins/steel_vectors.html"><strong aria-hidden="true">4.7.2.28.</strong> steel/vectors</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="bytecode/bytecode.html"><strong aria-hidden="true">5.</strong> Bytecode</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="bytecode/optimizations.html"><strong aria-hidden="true">5.1.</strong> Optimizations</a></li></ol></li><li class="chapter-item expanded "><a href="benchmarks/benchmarks.html"><strong aria-hidden="true">6.</strong> Benchmarks</a></li><li class="chapter-item expanded "><a href="patterns/patterns.html"><strong aria-hidden="true">7.</strong> Common Patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="patterns/mutability.html"><strong aria-hidden="true">7.1.</strong> Interior Mutability</a></li><li class="chapter-item expanded "><a href="patterns/async.html"><strong aria-hidden="true">7.2.</strong> Async</a></li></ol></li><li class="chapter-item expanded "><a href="garbage-collection/gc.html"><strong aria-hidden="true">8.</strong> Memory Management</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Steel</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <h1 id="steel"><a class="header" href="#steel">Steel</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="features"><a class="header" href="#features">Features</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="licensing"><a class="header" href="#licensing">Licensing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="online-playground"><a class="header" href="#online-playground">Online Playground</a></h1>
<p>The Steel Playground allows you to try Steel out directly from your browser. Visit the Steel Playground at:</p>
<p><a href="https://mattwparas.github.io/steel-playground/dev/">https://mattwparas.github.io/steel-playground/dev/</a></p>
<p>The Steel Playground's environment is as follows:</p>
<ul>
<li>Builtin modules are supported and are automatically imported.</li>
<li>Dylibs are not supported.</li>
</ul>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>The output prints the results of all expressions. Additional
information can be printed out with the <code>display</code> and <code>displayln</code>
functions.</p>
<h2 id="bytecode"><a class="header" href="#bytecode">Bytecode</a></h2>
<p>Bytecode renders the Bytecode that Steel generates from the Steel
code. The Bytecode is a low level representation of the code that is
executed by the Steel interpretter.</p>
<h2 id="raw-ast"><a class="header" href="#raw-ast">Raw AST</a></h2>
<p>Raw AST exposes the parsed AST. This expands some macros. For example:</p>
<pre><code class="language-scheme">(define (foo bar)
  (+ bar bar))

(define baz '(1 2 3))
</code></pre>
<p>is actually shorthand for</p>
<pre><code class="language-scheme">(define foo
  (λ (bar)
    (+ bar bar)))

(define baz (quote 1 2 3))
</code></pre>
<h2 id="expanded-ast"><a class="header" href="#expanded-ast">Expanded AST</a></h2>
<p>This is similar to the Raw AST but provides more detailed information.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-steel-on-its-own"><a class="header" href="#using-steel-on-its-own">Using Steel on its own</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="making-a-steel-module-in-rust"><a class="header" href="#making-a-steel-module-in-rust">Making a Steel Module in Rust</a></h1>
<p>Sometimes you may want to create a Steel module by calling Rust. This can be
useful to:</p>
<ul>
<li>Optimize a performance critical codepath with Rust.</li>
<li>Take advantage of Rust's rich ecosystem.</li>
</ul>
<p>Whatever the case, Steel provides facilities to create reusable modules based on
Rust code. This process involves compiling Rust into a <code>dylib</code>.</p>
<h2 id="guide"><a class="header" href="#guide">Guide</a></h2>
<p>In this guide, we'll make a <code>dylib</code> that will wrap the <code>sys-info</code> crate. There
are roughly 3 steps:</p>
<ol>
<li>Create a new Rust library of type "cdylib".</li>
<li>Define a module and register types and functions to it.</li>
<li>Build the Steel crate and install it to <code>$STEEL_HOME/native</code>.</li>
<li>Use the library from Steel with <code>#%require-dylib</code>.</li>
</ol>
<h3 id="creating-a-cdylib-library"><a class="header" href="#creating-a-cdylib-library">Creating a cdylib library</a></h3>
<p>To start, create a new library using <code>cargo</code>:</p>
<pre><code>$ cargo new --lib steel-sys-info
</code></pre>
<p>This should create a directory structure as follows:</p>
<pre><code>├── Cargo.toml
├── src
│   └── lib.rs
</code></pre>
<p>We'll want to make this a <code>cdylib</code> library for Steel, so we'll perform the following adjustments in <code>Cargo.toml</code>:</p>
<ol>
<li>Set the <code>crate-type</code> to <code>"cdylib"</code>.</li>
<li>Include <code>steel-core</code> with the <code>dylibs</code> feature as a dependency.</li>
<li>Include <code>abi_stable</code> as a dependency. This is required by some <code>steel-core</code>
macros.</li>
</ol>
<pre><code class="language-toml">[package]
name = "steel-sys-info"
version.workspace = true
edition = "2021"

[lib]
name = "steel_sys_info"
crate-type = ["cdylib"]

[dependencies]
# I'm running this example based on the `steel-sys-info` library found in the steel repo. If you're
# running this on your own, use whichever steel version you'd like to target and pin to that.
steel-core = { workspace = true, features = ["dylibs"] }
abi_stable = "0.11.1"
sys-info = "0.9.1"
</code></pre>
<p>This means that when we run <code>cargo build</code> we'll produce a shared library (<code>.so</code>
file). The shared library can be loaded into other programs, Steel in our case.</p>
<h2 id="creating-a-module"><a class="header" href="#creating-a-module">Creating a module</a></h2>
<p>For the purposes of this example, we'll create a module that wraps the <code>MemInfo</code>
struct, and expose the information there. Since we'll be implementing traits
that are defined inside the <code>steel</code> crate, we'll need to create a struct to wrap
the <code>sys_info::MemInfo</code> struct:</p>
<pre><code class="language-rust noplaypen">struct MemoryInfo {
    info: sys_info::MemInfo,
}

impl MemoryInfo {
    fn total(&amp;self) -&gt; isize {
        self.info.total as isize
    }

    fn avail(&amp;self) -&gt; isize {
        self.info.avail as isize
    }

    fn free(&amp;self) -&gt; isize {
        self.info.free as isize
    }

    fn buffers(&amp;self) -&gt; isize {
        self.info.buffers as isize
    }

    fn cached(&amp;self) -&gt; isize {
        self.info.cached as isize
    }

    fn swap_total(&amp;self) -&gt; isize {
        self.info.swap_total as isize
    }

    fn swap_free(&amp;self) -&gt; isize {
        self.info.swap_free as isize
    }
}</code></pre>
<p>Now that we've done that, we can expose this to steel by implementing the
<code>Custom</code> type for the struct, and declaring an <code>FFIModule</code>:</p>
<pre><code class="language-rust noplaypen">// Using ABI Stable types is very important
use steel::{
    declare_module,
    rvals::Custom,
    steel_vm::ffi::{FFIModule, RegisterFFIFn},
};

impl Custom for MemoryInfo {}

declare_module!(create_module);

fn create_module() -&gt; FFIModule {
    let mut module = FFIModule::new("steel/sys-info");

    module.register_fn("mem-info", || MemoryInfo {
        info: sys_info::mem_info().unwrap(),
    });

    module
        .register_fn("MemoryInfo-total", MemoryInfo::total)
        .register_fn("MemoryInfo-avail", MemoryInfo::avail)
        .register_fn("MemoryInfo-free", MemoryInfo::free)
        .register_fn("MemoryInfo-buffers", MemoryInfo::buffers)
        .register_fn("MemoryInfo-cached", MemoryInfo::cached)
        .register_fn("MemoryInfo-swap-total", MemoryInfo::swap_total)
        .register_fn("MemoryInfo-swap-free", MemoryInfo::swap_free);

    module
}</code></pre>
<p>The <code>register_fn</code> API will perform all of the necessary coercions necessary to
make this as safe as possible. At the end of the day, this is FFI and we are
loading shared libraries, so there is some unsafe Rust code, however steel uses
the underlying <code>abi_stable</code> library in order to make interactions with the
shared library as safe as possible.</p>
<h3 id="installing-the-library"><a class="header" href="#installing-the-library">Installing the library</a></h3>
<p>To install the dylib in a location where the <code>steel</code> interpreter will find it,
from the root of the library just run:</p>
<pre><code>$ cargo steel-lib
</code></pre>
<p>This will build the crate, and copy the resulting dylib to <code>$STEEL_HOME/native</code>.</p>
<h3 id="using-the-library-from-steel"><a class="header" href="#using-the-library-from-steel">Using the library from Steel</a></h3>
<p>To load the library, use the syntax <code>#%require-dylib</code> - This operates similary
to a standard <code>require</code>, in that all of the modifiers you're used to using work,
such as <code>only-in</code> and <code>prefix-in</code>. However, the argument is no longer the path
to the library, but rather the name of the library without the extension. By
default, the library will be named the <code>[lib]</code> name used in the toml, prefixed
with <code>lib</code>.</p>
<pre><code class="language-scheme">(#%require-dylib "libsteel_sys_info"
                 (only-in mem-info
                          MemoryInfo-total
                          MemoryInfo-avail
                          MemoryInfo-free
                          MemoryInfo-buffers
                          MemoryInfo-cached
                          MemoryInfo-swap-total
                          MemoryInfo-swap-free))

(provide current-memory-usage memory-usage-as-percentage)

(define (current-memory-usage #:memory-info (memory-info (mem-info)))
  (- (MemoryInfo-total memory-info) (MemoryInfo-free memory-info) (MemoryInfo-cached memory-info)))

(define (memory-usage-as-percentage #:memory-info (memory-info (mem-info)))
  (/ (current-memory-usage #:memory-info memory-info) (MemoryInfo-total memory-info)))

</code></pre>
<p>This can then be installed as a library itself on the machine, and required just
like any other library, using a <code>cog.scm</code> file for the manifest.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-steel-as-an-embedded-scripting-engine"><a class="header" href="#using-steel-as-an-embedded-scripting-engine">Using Steel as an embedded scripting engine</a></h1>
<p>Steel can be used as a scripting language within a Rust program. You can achieve
this by creating a Steel <code>Engine</code> object. The <code>Engine</code> object allows you to
execute Scheme code and interact with it from your Rust program. For more
details about <code>Engine</code>, see the <a href="start/../engine/engine.html">Engine API</a>.</p>
<h2 id="steel-engine"><a class="header" href="#steel-engine">Steel Engine</a></h2>
<p>The Steel Virtual Machine is provided by the <code>steel-core</code> trait.</p>
<pre><code class="language-toml">[dependencies]
steel-core = { git="https://github.com/mattwparas/steel.git", branch = "master" }
</code></pre>
<p>The following example runs a few expressions in a Steel <code>Engine</code> and asserts
that the results are as expected.</p>
<pre><code class="language-rust noplaypen">use steel::steel_vm::engine::Engine;
use steel::SteelVal;

fn main() {
    let mut steel_engine = Engine::new();
    let answer = steel_engine.run(
        (r#"
      (+ 1 2 3 4)
      (+ 5 6 7 8)
    "#),
    );
    assert_eq!(answer, vec![SteelVal::IntV(10), SteelVal::IntV(26)])
}</code></pre>
<h3 id="enginenew"><a class="header" href="#enginenew">Engine::new</a></h3>
<p>Creates a new engine. The <code>Engine</code> is used to run Steel Scheme code. Note that
the <code>Engine</code> is not <code>Send</code> or <code>Sync</code>. This means it is bound to the current
thread and cannot be shared or sent across other threads.</p>
<pre><code class="language-rust noplaypen">let mut steel_engine = Engine::new();</code></pre>
<h3 id="enginerun"><a class="header" href="#enginerun">Engine::run</a></h3>
<p>Runs a Steel expression and returns the result as a <code>Vec&lt;SteelVal&gt;</code>. If any
error occurs, then <code>Err(SteelErr)</code> is returned.</p>
<pre><code class="language-rust noplaypen">let mut steel_engine = Engine::new();
assert_eq!(steel_engine.run("(+ 1 1)"), Ok(vec![SteelVal::IntV(2)]));
assert!(steel_engine.run("(+ 1 undefined-identifier)").is_err());</code></pre>
<h2 id="embedding-the-steel-repl"><a class="header" href="#embedding-the-steel-repl">Embedding The Steel REPL</a></h2>
<p>Repl functionality is provided by the <code>steel-repl</code> crate.</p>
<pre><code class="language-toml">[dependencies]
steel-repl = { git="https://github.com/mattwparas/steel.git", branch = "master" }
</code></pre>
<h3 id="run_repl"><a class="header" href="#run_repl">run_repl</a></h3>
<p><code>run_repl</code> runs the Steel repl until an IO error is encountered or the user
exits the repl. The repl may be exited by:</p>
<ul>
<li>Running the <code>(quit)</code> Steel Scheme function.</li>
<li>Pressing either <code>ctrl+c</code> or <code>ctrl+d</code> within the repl.</li>
</ul>
<pre><code class="language-rust noplaypen">let steel_engine = Engine::new();
steel_repl::run_repl(steel_engine).unwrap();</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-engine-api"><a class="header" href="#the-engine-api">The Engine API</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="registering-functions"><a class="header" href="#registering-functions">Registering functions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="embedding-values"><a class="header" href="#embedding-values">Embedding values</a></h1>
<p>Rust values, types, and functions are easily embedded into Steel. Using the <code>register_fn</code> call, you can embed functions easily:</p>
<pre><code class="language-rust noplaypen">use steel_vm::engine::Engine;
use steel_vm::register_fn::RegisterFn;

fn external_function(arg1: usize, arg2: usize) -&gt; usize {
    arg1 + arg2
}

fn option_function(arg1: Option&lt;String&gt;) -&gt; Option&lt;String&gt; {
    arg1
}

fn result_function(arg1: Option&lt;String&gt;) -&gt; Result&lt;String, String&gt; {
    if let Some(inner) = arg1 {
        Ok(inner)
    } else {
        Err("Got a none".to_string())
    }
}

pub fn main() {
    let mut vm = Engine::new();

    // Here we can register functions
    // Any function can accept parameters that implement `FromSteelVal` and
    // return values that implement `IntoSteelVal`
    vm.register_fn("external-function", external_function);

    // See the docs for more information about `FromSteelVal` and `IntoSteelVal`
    // but we can see even functions that accept/return Option&lt;T&gt; or Result&lt;T,E&gt;
    // can be registered
    vm.register_fn("option-function", option_function);

    // Result values will map directly to errors in the VM and bubble back up
    vm.register_fn("result-function", result_function);

    vm.run(
        r#"
        (define foo (external-function 10 25))
        (define bar (option-function "applesauce"))
        (define baz (result-function "bananas"))
    "#,
    )
    .unwrap();

    let foo = vm.extract::&lt;usize&gt;("foo").unwrap();
    println!("foo: {}", foo);
    assert_eq!(35, foo);

    // Can also extract a value by specifying the type on the variable
    let bar: String = vm.extract("bar").unwrap();
    println!("bar: {}", bar);
    assert_eq!("applesauce".to_string(), bar);

    let baz: String = vm.extract("baz").unwrap();
    println!("baz: {}", baz);
    assert_eq!("bananas".to_string(), baz);
}</code></pre>
<p>We can also embed structs themselves:</p>
<pre><code class="language-rust noplaypen">use steel_vm::engine::Engine;
use steel_vm::register_fn::RegisterFn;

use steel_derive::Steel;

// In order to register a type with Steel,
// it must implement Clone, Debug, and Steel
#[derive(Clone, Debug, Steel, PartialEq)]
pub struct ExternalStruct {
    foo: usize,
    bar: String,
    baz: f64,
}

impl ExternalStruct {
    pub fn new(foo: usize, bar: String, baz: f64) -&gt; Self {
        ExternalStruct { foo, bar, baz }
    }

    // Embedding functions that take self must take by value
    pub fn method_by_value(self) -&gt; usize {
        self.foo
    }

    // Setters should update the value and return a new instance (functional set)
    pub fn set_foo(mut self, foo: usize) -&gt; Self {
        self.foo = foo;
        self
    }
}

pub fn main() {
    let mut vm = Engine::new();

    // Registering a type gives access to a predicate for the type
    vm.register_type::&lt;ExternalStruct&gt;("ExternalStruct?");

    // Structs in steel typically have a constructor that is the name of the struct
    vm.register_fn("ExternalStruct", ExternalStruct::new);

    // register_fn can be chained
    vm.register_fn("method-by-value", ExternalStruct::method_by_value)
        .register_fn("set-foo", ExternalStruct::set_foo);

    let external_struct = ExternalStruct::new(1, "foo".to_string(), 12.4);

    // Registering an external value is fallible if the conversion fails for some reason
    // For instance, registering an Err(T) is fallible. However, most implementation outside of manual
    // ones should not fail
    vm.register_external_value("external-struct", external_struct)
        .unwrap();

    let output = vm
        .run(
            r#"
            (define new-external-struct (set-foo external-struct 100))
            (define get-output (method-by-value external-struct))
            (define second-new-external-struct (ExternalStruct 50 "bananas" 72.6))
            "last-result"
        "#,
        )
        .unwrap();

    let new_external_struct = vm.extract::&lt;ExternalStruct&gt;("new-external-struct").unwrap();
    println!("new_external_struct: {:?}", new_external_struct);
    assert_eq!(
        ExternalStruct::new(100, "foo".to_string(), 12.4),
        new_external_struct
    );

    // Can also extract a value by specifying the type on the variable
    let get_output: usize = vm.extract("get-output").unwrap();
    println!("get_output: {}", get_output);
    assert_eq!(1, get_output);

    let second_new_external_struct: ExternalStruct =
        vm.extract("second-new-external-struct").unwrap();
    println!(
        "second_new_external_struct: {:?}",
        second_new_external_struct
    );
    assert_eq!(
        ExternalStruct::new(50, "bananas".to_string(), 72.6),
        second_new_external_struct
    );

    // We also get the output of the VM as the value of every expression run
    // we can inspect the results just by printing like so
    println!("{:?}", output);
}</code></pre>
<h2 id="intosteelval-and-fromsteelval"><a class="header" href="#intosteelval-and-fromsteelval">IntoSteelVal and FromSteelVal</a></h2>
<p>Types that implement <code>IntoSteelVal</code> and <code>FromSteelVal</code> and be returned and passed into rust functions, respectively. Take the following for example:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>fn foo(value: isize) -&gt; String {
    ...
}
    
<span class="boring">}</span></code></pre></pre>
<p>This means that steel values will attempt to be coerced to the type in the function signature, and the value that this function returns will then attempt to be coerced into a that Steel understands.</p>
<p>There are some special case conversions that happen specifically:</p>
<h3 id="intosteelval"><a class="header" href="#intosteelval"><code>IntoSteelVal</code></a></h3>
<ul>
<li>Vec<T> -&gt; Steel list</li>
<li>HashMap&lt;K, V&gt; -&gt; Steel hashmap</li>
<li>HashSet<T> -&gt; Steel hashset</li>
<li>Result&lt;T, E&gt; -&gt; if <code>Ok(T)</code> then T else <code>(error E)</code></li>
<li>Option<T> -&gt; if <code>Some(T)</code> then T else <code>#false</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-reference"><a class="header" href="#language-reference">Language Reference</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keywords"><a class="header" href="#keywords">Keywords</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="syntax"><a class="header" href="#syntax">Syntax</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="macros"><a class="header" href="#macros">Macros</a></h1>
<p>Steel contains a limited form of the <code>syntax-rules</code> that scheme provides. These macros build on the small primary language constructs that exist. Consider the following:</p>
<pre><code class="language-scheme">(define-syntax or
  (syntax-rules ()
    [(or) #f]
    [(or x) x]
    [(or x y) (let ([z x])
                (if z z y))]
    [(or x y ...) (or x (or y ...))]))

(or #f #f #t)
</code></pre>
<p>This will actually expand into something like this</p>
<pre><code class="language-scheme">((λ (__z)
     (if __z __z ((λ (__z) (if __z __z #t)) #f)))
   #f)
</code></pre>
<p>These macros allow for a simple extension of Steel to however you see fit - defining macros in terms of the syntax rules format is fairly straightforward.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contracts"><a class="header" href="#contracts">Contracts</a></h1>
<p>Inspired by Racket's higher order contracts, <code>Steel</code> implements* higher order contracts to enable design by contract, made easy with a <code>define/contract</code> macro for easier ergonomics. Racket makes use of a concept known as <em>blame</em> which seeks to identify the violating party - <code>Steel</code> does not quite have fully fleshed out blame but that is a work in progress. Here are some examples:</p>
<pre><code class="language-scheme">;; Simple flat contracts
(define/contract (test x y)
    (-&gt;/c even? even? odd?)
    (+ x y 1))

(test 2 2) ;; =&gt; 5

(define/contract (test-violation x y)
    (-&gt;/c even? even? odd?)
    (+ x y 1))

(test-violation 1 2) ;; contract violation

</code></pre>
<p>Contracts are implemented as <em>values</em>, so they are bound to functions. This enables the use of contract checking on functions themselves since functions can be passed around:</p>
<pre><code class="language-scheme">;; Higher order contracts, check on application
(define/contract (higher-order func y)
    (-&gt;/c (-&gt;/c even? odd?) even? even?)
    (+ 1 (func y)))

(higher-order (lambda (x) (+ x 1)) 2) ;; =&gt; 4

(define/contract (higher-order-violation func y)
    (-&gt;/c (-&gt;/c even? odd?) even? even?)
    (+ 1 (func y)))

(higher-order-violation (lambda (x) (+ x 2)) 2) ;; contract violation
</code></pre>
<p>Contracts on functions do not get checked until they are applied, so a function returning a <em>contracted</em> function won't cause a violation until that function is actually used:</p>
<pre><code class="language-scheme">;; More higher order contracts, get checked on application
(define/contract (output)
    (-&gt;/c (-&gt;/c string? int?))
    (lambda (x) 10))

(define/contract (accept func)
    (-&gt;/c (-&gt;/c string? int?) string?)
    "cool cool cool")

(accept (output)) ;; =&gt; "cool cool cool"

;; different contracts on the argument
(define/contract (accept-violation func)
    (-&gt;/c (-&gt;/c string? string?) string?)
    (func "applesauce")
    "cool cool cool")

(accept-violation (output)) ;; contract violation

;; generates a function
(define/contract (generate-closure)
    (-&gt;/c (-&gt;/c string? int?))
    (lambda (x) 10))

;; calls generate-closure which should result in a contract violation
(define/contract (accept-violation)
    (-&gt;/c (-&gt;/c string? string?))
    (generate-closure))

((accept-violation) "test") ;; contract violation
</code></pre>
<p>Perhaps a more nuanced case:</p>
<pre><code class="language-scheme">(define/contract (output)
    (-&gt;/c (-&gt;/c string? int?))
    (lambda (x) 10.2))

(define/contract (accept)
    (-&gt;/c (-&gt;/c string? number?))
    (output))


((accept) "test") ;; contract violation 10.2 satisfies number? but _not_ int?
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transducers"><a class="header" href="#transducers">Transducers</a></h1>
<p>Inspired by clojure's transducers, <code>Steel</code> has a similar object that is somewhere half way in between transducers and iterators. Consider the following:</p>
<pre><code class="language-scheme">
(mapping (lambda (x) (+ x 1))) ;; =&gt; &lt;#iterator&gt;
(filtering even?) ;; =&gt; &lt;#iterator&gt;
(taking 15) ;; =&gt; &lt;#iterator&gt;

(compose 
    (mapping add1)
    (filtering odd?)
    (taking 15)) ;; =&gt; &lt;#iterator&gt;
</code></pre>
<p>Each of these expressions emit an <code>&lt;#iterator&gt;</code> object, which means they're compatible with <code>execute</code> and <code>transduce</code>. Execute takes a transducer (i.e. <code>&lt;#iterator&gt;</code>) and a collection that can be iterated (<code>list</code>, <code>vector</code>, or <code>stream</code>) and applies the transducer.</p>
<pre><code class="language-scheme">;; Accepts lists
(execute (mapping (lambda (x) (+ x 1))) (list 1 2 3 4 5)) ;; =&gt; '(2 3 4 5 6)

;; Accepts vectors
(execute (mapping (lambda (x) (+ x 1))) (vector 1 2 3 4 5)) ;; '#(2 3 4 5 6)

;; Even accepts streams!
(define (integers n)
    (stream-cons n (lambda () (integers (+ 1 n)))))

(execute (taking 5) (integers 0)) ;; =&gt; '(0 1 2 3 4)
</code></pre>
<p>Transduce is just <code>reduce</code> with more bells and whistles and works similarly:</p>
<pre><code class="language-scheme">;; (-&gt; transducer reducing-function initial-value iterable)
(transduce (mapping (lambda (x) (+ x 1))) + 0 (list 0 1 2 3)) ;; =&gt; 10
</code></pre>
<p>Compose just combines the iterator functions and lets us avoid intermediate allocation. The composition works left to right - it chains each value through the functions and then accumulates into the output type. See the following:</p>
<pre><code class="language-scheme">(define xf 
    (compose 
        (mapping add1)
        (filtering odd?)
        (taking 5)))

(execute xf (range 0 100)) ;; =&gt; '(1 3 5 7 9)
</code></pre>
<p>By default, execute outputs to the same type that was passed in. In other words, if you <code>execute</code> a <code>list</code>, it will return a <code>list</code>. However, if you so choose, you can pass in a symbol specifying the output type of your choosing like so:</p>
<pre><code class="language-scheme">(define xf 
    (compose 
        (mapping add1)
        (filtering odd?)
        (taking 5)))

;; Takes a list and returns a vector
(execute xf (range 0 100) 'vector) ;; =&gt; '#(1 3 5 7 9)

;; Takes a vector and returns a list
(execute xf (vector 0 1 2 3 4 5 6 7 8 9 10) 'list) ;; =&gt; '(1 3 5 7 9)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modules"><a class="header" href="#modules">Modules</a></h1>
<p>In order to support a growing codebase, Steel has module support for projects spanning multiple files. Steel files can <code>provide</code> values (with contracts attached) and <code>require</code> modules from other files:</p>
<pre><code class="language-scheme">;; main.scm
(require "provide.scm")

(even-&gt;odd 10)


;; provide.scm
(provide 
    (contract/out even-&gt;odd (-&gt;/c even? odd?))
    no-contract
    flat-value)

(define (even-&gt;odd x) 
    (+ x 1))

(define (accept-number x) (+ x 10))

(define (no-contract) "cool cool cool")
(define flat-value 15)

(displayln "Calling even-&gt;odd with some bad inputs but its okay")
(displayln (even-&gt;odd 1))
</code></pre>
<p>Here we can see if we were to run <code>main</code> that it would include the contents of <code>provide</code>, and only provided values would be accessible from <code>main</code>. The contract is attached at the contract boundary, so inside the <code>provide</code> module, you can violate the contract, but outside the module the contract will be applied.</p>
<p>A few notes on modules:</p>
<ul>
<li>Cyclical dependencies are not allowed</li>
<li>Modules will be only compiled once and used across multiple files. If <code>A</code> requires <code>B</code> and <code>C</code>, and <code>B</code> requires <code>C</code>, <code>C</code> will be compiled once and shared between <code>A</code> and <code>B</code>.</li>
<li>Modules will be recompiled when changed, and any dependent files will also be recompiled as necessary</li>
</ul>
<h2 id="modifiers-for-requiring"><a class="header" href="#modifiers-for-requiring">Modifiers for requiring</a></h2>
<pre><code class="language-scheme">
(require (prefix-in export. ;; prefix-in will prefix all of the bound identifiers with the given prefix
                    (only-in "export.scm" ;; only-in will only introduce the identifiers listed.
                             thing-should-not-escape
                             Applesauce
                             bananas
                             new-identifier
                             my-fun-contracted-function
                             contract-out-test)))
</code></pre>
<p>If no modifiers are given, <code>require</code>-ing a module will introduce all of the provided values into the top level scope.</p>
<h2 id="providing-and-requiring-macros"><a class="header" href="#providing-and-requiring-macros">Providing and requiring macros;</a></h2>
<p>Macros defined using <code>define-syntax</code> can be handled just like normal values:</p>
<pre><code class="language-scheme">;; main.scm
(require "provide.scm")

(foo-bar x) ;; Will expand into (displayln "Hello world")

;; provide.scm
(provide foo-bar)

(define-syntax foo-bar 
    (syntax-rules ()
        [(foo-bar x) (displayln "Hello world!")]))

</code></pre>
<p>The module system will take care to keep the namespaces separate - any macros that expand
into macros that exist in the originating module will be expanded, but those will not be available to
the requiring module. In addition, macros can expand into private values (those that are not provided), and the
will still be inaccessible from the requiring module.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<h3 id="keyword"><a class="header" href="#keyword">keyword?</a></h3>
<pre><code class="language-scheme">
(keyword? v) -&gt; boolean?

v: any/c

</code></pre>
<h3 id="mutable-vector"><a class="header" href="#mutable-vector">mutable-vector</a></h3>
<pre><code class="language-scheme">
(mutable-vector args ...) -&gt; mutable-vector?

</code></pre>
<h3 id="struct"><a class="header" href="#struct">struct</a></h3>
<p>Macro for creating a new struct, in the form of:
<code>(struct &lt;struct-name&gt; (fields ...) options ...)</code>
The options can consist of the following:</p>
<p>Single variable options (those which their presence indicates <code>#true</code>)</p>
<ul>
<li><code>#:mutable</code></li>
<li><code>#:transparent</code></li>
</ul>
<p>Other options must be presented as key value pairs, and will get stored
in the struct instance. They will also be bound to the variable
<code>___&lt;struct-name&gt;-options___</code> in the same lexical environment where the
struct was defined. For example:</p>
<pre><code class="language-scheme">λ &gt; (struct Applesauce (a b c) #:mutable #:transparent #:unrecognized-option 1234)
λ &gt; ___Applesauce-options___
=&gt; #&lt;hashmap {
    '#:fields: '(a b c),
    '#:mutable: #false,
    '#:transparent: #false,
    '#:unrecognized-option: 1234,
}&gt; 
</code></pre>
<p>By default, structs are immutable, which means setter functions will not
be generated. Also by default, structs are not transparent, which means
printing them will result in an opaque struct that does not list the fields</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cogslogginglogscm"><a class="header" href="#cogslogginglogscm">cogs/logging/log.scm</a></h1>
<h3 id="log"><a class="header" href="#log"><strong>log!</strong></a></h3>
<pre><code class="language-scheme">(log! level arg-list)
</code></pre>
<p>Log directly on the specified level the with arguments, as a list</p>
<h3 id="loginfo"><a class="header" href="#loginfo"><strong>log/info!</strong></a></h3>
<pre><code class="language-scheme">(log/info! . args)
</code></pre>
<p>Log the arguments using the <em>info</em> target, i.e. log on INFO</p>
<h3 id="logwarn"><a class="header" href="#logwarn"><strong>log/warn!</strong></a></h3>
<pre><code class="language-scheme">(log/warn! . args)
</code></pre>
<p>Log the arguments using the <em>warn</em> target, i.e. log on WARN</p>
<h3 id="logdebug"><a class="header" href="#logdebug"><strong>log/debug!</strong></a></h3>
<pre><code class="language-scheme">(log/debug! . args)
</code></pre>
<p>Log the arguments using the <em>debug</em> target, i.e. log on DEBUG</p>
<h3 id="logerror"><a class="header" href="#logerror"><strong>log/error!</strong></a></h3>
<pre><code class="language-scheme">(log/error! . args)
</code></pre>
<p>Log the arguments using the <em>error</em> target, i.e. log on ERROR</p>
<h3 id="logtrace"><a class="header" href="#logtrace"><strong>log/trace!</strong></a></h3>
<pre><code class="language-scheme">(log/trace! . args)
</code></pre>
<p>Log the arguments using the <em>trace</em> target, i.e. log on TRACE</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelcoreoption"><a class="header" href="#steelcoreoption">steel/core/option</a></h1>
<h1 id="steelcoreresult"><a class="header" href="#steelcoreresult">steel/core/result</a></h1>
<h1 id="steelidentity"><a class="header" href="#steelidentity">steel/identity</a></h1>
<h1 id="steelhash"><a class="header" href="#steelhash">steel/hash</a></h1>
<h3 id="hash-try-get"><a class="header" href="#hash-try-get"><strong>hash-try-get</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Returns #false if the key does not exist.</p>
<p>(hash-try-get map key) -&gt; (or any/c #false)</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples"><a class="header" href="#examples">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-try-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
&gt; (hash-try-get (hash 'a 10 'b 20) 'does-not-exist) ;; =&gt; #false
</code></pre>
<h3 id="hash-length"><a class="header" href="#hash-length"><strong>hash-length</strong></a></h3>
<p>Returns the number of key value pairs in the map</p>
<p>(hash-length map) -&gt; (and positive? int?)</p>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-length (hash 'a 10 'b 20)) ;; =&gt; 2
</code></pre>
<h3 id="hash-ref"><a class="header" href="#hash-ref"><strong>hash-ref</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Raises an error if the key does not exist. <code>hash-get</code> is an alias for this.</p>
<p>(hash-ref map key) -&gt; any/c</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-2"><a class="header" href="#examples-2">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
</code></pre>
<h3 id="hash-contains"><a class="header" href="#hash-contains"><strong>hash-contains?</strong></a></h3>
<p>Checks whether the given map contains the given key. Key must be hashable.</p>
<p>(hash-contains? map key) -&gt; bool?</p>
<ul>
<li>map : hash?</li>
<li>key : hashable?</li>
</ul>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-scheme">&gt; (hash-contains? (hash 'a 10 'b 20) 'a) ;; =&gt; #true
&gt; (hash-contains? (hash 'a 10 'b 20) 'not-there) ;; =&gt; #false
</code></pre>
<h3 id="hash-insert"><a class="header" href="#hash-insert"><strong>hash-insert</strong></a></h3>
<p>Returns a new hashmap with the additional key value pair added. Performs a functional update,
so the old hash map is still accessible.</p>
<p>(hash-insert map key val) -&gt; hash?</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
<li>val : any/c</li>
</ul>
<h4 id="examples-3"><a class="header" href="#examples-3">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-insert (hash 'a 10 'b 20) 'c 30)

=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
'c: 30
}&gt;
</code></pre>
<h1 id="steelrandom"><a class="header" href="#steelrandom">steel/random</a></h1>
<h1 id="steelio"><a class="header" href="#steelio">steel/io</a></h1>
<h1 id="steelequality"><a class="header" href="#steelequality">steel/equality</a></h1>
<h1 id="steelord"><a class="header" href="#steelord">steel/ord</a></h1>
<h1 id="steeljson"><a class="header" href="#steeljson">steel/json</a></h1>
<h1 id="steelsets"><a class="header" href="#steelsets">steel/sets</a></h1>
<h1 id="steeltime"><a class="header" href="#steeltime">steel/time</a></h1>
<h3 id="steeltime-1"><a class="header" href="#steeltime-1"><strong>steel/time</strong></a></h3>
<h4 id="steeltime-2"><a class="header" href="#steeltime-2">steel/time</a></h4>
<p>Contains direct wrappers around the Rust <code>std::time::Instant</code> and <code>std::time::Duration</code> modules.
For example, to measure the time something takes:</p>
<pre><code class="language-scheme">(define t (instant/now))
(displayln "Hello world")
(displayln (instant/elapsed t))
</code></pre>
<h1 id="steelvectors"><a class="header" href="#steelvectors">steel/vectors</a></h1>
<h1 id="steelports"><a class="header" href="#steelports">steel/ports</a></h1>
<h3 id="read-port-to-string"><a class="header" href="#read-port-to-string"><strong>read-port-to-string</strong></a></h3>
<p>Takes a port and reads the entire content into a string</p>
<p>(read-port-to-string port) -&gt; string?</p>
<ul>
<li>port : input-port?</li>
</ul>
<h3 id="output-port"><a class="header" href="#output-port"><strong>output-port?</strong></a></h3>
<p>Checks if a given value is an output port</p>
<p>(output-port? any/c) -&gt; bool?</p>
<h4 id="examples-4"><a class="header" href="#examples-4">Examples</a></h4>
<pre><code class="language-scheme">&gt; (define output (open-output-file "foo.txt"))
&gt; (output-port? output) ;; =&gt; #true
</code></pre>
<h3 id="open-input-file"><a class="header" href="#open-input-file"><strong>open-input-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to an existing file and returns an input port. Raises an error
if the file does not exist</p>
<p>(open-input-file string?) -&gt; input-port?</p>
<h4 id="examples-5"><a class="header" href="#examples-5">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-input-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
&gt; (open-input-file "file-does-not-exist.txt")
error[E08]: Io
┌─ :1:2
│
1 │ (open-input-file "foo-bar.txt")
│  ^^^^^^^^^^^^^^^ No such file or directory (os error 2)
</code></pre>
<h3 id="stdin"><a class="header" href="#stdin"><strong>stdin</strong></a></h3>
<p>Gets the port handle to stdin</p>
<p>(stdin) -&gt; input-port?</p>
<h4 id="examples-6"><a class="header" href="#examples-6">Examples</a></h4>
<pre><code class="language-scheme">&gt; (stdin) ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="input-port"><a class="header" href="#input-port"><strong>input-port?</strong></a></h3>
<p>Checks if a given value is an input port</p>
<p>(input-port? any/c) -&gt; bool?</p>
<h4 id="examples-7"><a class="header" href="#examples-7">Examples</a></h4>
<pre><code class="language-scheme">&gt; (input-port? (stdin)) ;; =&gt; #true
&gt; (input-port? "foo") ;; =&gt; #false
</code></pre>
<h3 id="open-output-file"><a class="header" href="#open-output-file"><strong>open-output-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to a file to be created and returns an output port.</p>
<p>(open-output-file string?) -&gt; output-port?</p>
<h4 id="examples-8"><a class="header" href="#examples-8">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-output-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
</code></pre>
<h1 id="steelstrings"><a class="header" href="#steelstrings">steel/strings</a></h1>
<h3 id="starts-with"><a class="header" href="#starts-with"><strong>starts-with?</strong></a></h3>
<p>Checks if the input string starts with a prefix</p>
<p>(starts-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-9"><a class="header" href="#examples-9">Examples</a></h4>
<pre><code class="language-scheme">&gt; (starts-with? "foobar" "foo") ;; =&gt; #true
&gt; (starts-with? "foobar" "bar") ;; =&gt; #false
</code></pre>
<h3 id="split-whitespace"><a class="header" href="#split-whitespace"><strong>split-whitespace</strong></a></h3>
<p>Returns a list of strings from the original string split on the whitespace</p>
<p>(split-whitespace string?) -&gt; (listof string?)</p>
<h4 id="examples-10"><a class="header" href="#examples-10">Examples</a></h4>
<pre><code class="language-scheme">(split-whitespace "apples bananas fruits veggies") ;; '("apples" "bananas" "fruits" "veggies")
</code></pre>
<h3 id="trim-end"><a class="header" href="#trim-end"><strong>trim-end</strong></a></h3>
<p>Returns a new string with the trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-11"><a class="header" href="#examples-11">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "   foo"
</code></pre>
<h3 id="string-int"><a class="header" href="#string-int"><strong>string-&gt;int</strong></a></h3>
<p>Converts a string into an int. Raises an error if the string cannot be converted to an integer.</p>
<p>(string-&gt;int string?) -&gt; int?</p>
<h4 id="examples-12"><a class="header" href="#examples-12">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;int "100") ;; =&gt; 10
&gt; (string-&gt;int "not-an-int") ;; error
</code></pre>
<h3 id="ends-with"><a class="header" href="#ends-with"><strong>ends-with?</strong></a></h3>
<p>Checks if the input string ends with a given suffix</p>
<p>(ends-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-13"><a class="header" href="#examples-13">Examples</a></h4>
<pre><code class="language-scheme">&gt; (ends-with? "foobar" "foo") ;; =&gt; #false
&gt; (ends-with? "foobar" "bar") ;; =&gt; #true
</code></pre>
<h3 id="string-length"><a class="header" href="#string-length"><strong>string-length</strong></a></h3>
<p>Get the length of the given string</p>
<p>(string-length string?) -&gt; int?</p>
<h4 id="examples-14"><a class="header" href="#examples-14">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-length "apples") ;; =&gt; 6
</code></pre>
<h3 id="trim-start"><a class="header" href="#trim-start"><strong>trim-start</strong></a></h3>
<p>Returns a new string with the leading whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-15"><a class="header" href="#examples-15">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo     "
</code></pre>
<h3 id="string-upper"><a class="header" href="#string-upper"><strong>string-&gt;upper</strong></a></h3>
<p>Creates a new uppercased version of the input string</p>
<p>(string-&gt;upper string?) -&gt; string?</p>
<h4 id="examples-16"><a class="header" href="#examples-16">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;upper "lower") ;; =&gt; "LOWER"
</code></pre>
<h3 id="trim"><a class="header" href="#trim"><strong>trim</strong></a></h3>
<p>Returns a new string with the leading and trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-17"><a class="header" href="#examples-17">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo"
</code></pre>
<h3 id="string-list"><a class="header" href="#string-list"><strong>string-&gt;list</strong></a></h3>
<p>Converts a string into a list of characters.</p>
<p>(string-&gt;list string?) -&gt; (listof char?)</p>
<h4 id="examples-18"><a class="header" href="#examples-18">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;list "hello") ;; =&gt; '(#\h #\e #\l #\l #\o)
</code></pre>
<h3 id="string-symbol"><a class="header" href="#string-symbol"><strong>string-&gt;symbol</strong></a></h3>
<p>Converts a string into a symbol.</p>
<p>(string-&gt;symbol string?) -&gt; symbol?</p>
<h4 id="examples-19"><a class="header" href="#examples-19">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;symbol "FooBar") ;; =&gt; 'FooBar
</code></pre>
<h3 id="int-string"><a class="header" href="#int-string"><strong>int-&gt;string</strong></a></h3>
<p>Converts an integer into a string.</p>
<p>(int-&gt;string int?) -&gt; string?</p>
<h4 id="examples-20"><a class="header" href="#examples-20">Examples</a></h4>
<pre><code class="language-scheme">&gt; (int-&gt;string 10) ;; =&gt; "10"
</code></pre>
<h3 id="string-append"><a class="header" href="#string-append"><strong>string-append</strong></a></h3>
<p>Concatenates all of the given strings into one</p>
<p>(string-append strs...) -&gt; string?</p>
<ul>
<li>strs ... : string?</li>
</ul>
<h4 id="examples-21"><a class="header" href="#examples-21">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-append) ;; =&gt; ""
&gt; (string-append "foo" "bar") ;; =&gt; "foobar"
### **string-&gt;lower**
Creates a new lowercased version of the input string

(string-&gt;lower string?) -&gt; string?

#### Examples

```scheme
&gt; (string-&gt;lower "sPonGeBoB tExT") ;; =&gt; "spongebob text"
</code></pre>
<h3 id="to-string"><a class="header" href="#to-string"><strong>to-string</strong></a></h3>
<p>Concatenatives all of the inputs to their string representation, separated by spaces.</p>
<p>(to-string xs ...)</p>
<ul>
<li>xs : any/c</li>
</ul>
<h4 id="examples-22"><a class="header" href="#examples-22">Examples</a></h4>
<pre><code class="language-scheme">&gt; (to-string 10) ;; =&gt; "10"
&gt; (to-string "hello" "world") ;; =&gt; "hello world"
</code></pre>
<h1 id="steelfilesystem"><a class="header" href="#steelfilesystem">steel/filesystem</a></h1>
<h1 id="steelsyntax"><a class="header" href="#steelsyntax">steel/syntax</a></h1>
<h1 id="steeltransducers"><a class="header" href="#steeltransducers">steel/transducers</a></h1>
<h1 id="steelsymbols"><a class="header" href="#steelsymbols">steel/symbols</a></h1>
<h1 id="steelstringscolors"><a class="header" href="#steelstringscolors">steel/strings/colors</a></h1>
<h1 id="steelmeta"><a class="header" href="#steelmeta">steel/meta</a></h1>
<h1 id="steelbase"><a class="header" href="#steelbase">steel/base</a></h1>
<h3 id="read-port-to-string-1"><a class="header" href="#read-port-to-string-1"><strong>read-port-to-string</strong></a></h3>
<p>Takes a port and reads the entire content into a string</p>
<p>(read-port-to-string port) -&gt; string?</p>
<ul>
<li>port : input-port?</li>
</ul>
<h3 id="hash-contains-1"><a class="header" href="#hash-contains-1"><strong>hash-contains?</strong></a></h3>
<p>Checks whether the given map contains the given key. Key must be hashable.</p>
<p>(hash-contains? map key) -&gt; bool?</p>
<ul>
<li>map : hash?</li>
<li>key : hashable?</li>
</ul>
<h4 id="example-1"><a class="header" href="#example-1">Example</a></h4>
<pre><code class="language-scheme">&gt; (hash-contains? (hash 'a 10 'b 20) 'a) ;; =&gt; #true
&gt; (hash-contains? (hash 'a 10 'b 20) 'not-there) ;; =&gt; #false
</code></pre>
<h3 id="list-ref"><a class="header" href="#list-ref"><strong>list-ref</strong></a></h3>
<p>Returns the value located at the given index. Will raise an error if you try to index out of bounds.</p>
<p>Note: Runs in time proportional to the length of the list, however lists in Steel are implemented in such a fashion that the
time complexity is O(n/64). Meaning, for small lists this can be constant.</p>
<p>(list-ref lst index) -&gt; list?</p>
<ul>
<li>lst : list?</li>
<li>index : (and/c int? positive?)</li>
</ul>
<h4 id="examples-23"><a class="header" href="#examples-23">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list-ref (list 1 2 3 4) 2) ;; =&gt; 3
&gt; (list-ref (range 0 100) 42) ;; =&gt; 42"
&gt; (list-ref (list 1 2 3 4) 10)
error[E11]: Generic
┌─ :1:2
│
1 │ (list-ref (list 1 2 3 4) 10)
│  ^^^^^^^^ out of bounds index in list-ref - list length: 4, index: 10
</code></pre>
<h3 id="second"><a class="header" href="#second"><strong>second</strong></a></h3>
<p>Get the second element of the list. Raises an error if the list does not have an element in the second position.</p>
<p>(second l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-24"><a class="header" href="#examples-24">Examples</a></h4>
<pre><code class="language-scheme">&gt; (second '(1 2 3)) ;; =&gt; 2
&gt; (second '())
error[E11]: Generic
┌─ :1:2
│
1 │ (second '())
│  ^^^^^^ second: index out of bounds - list did not have an element in the second position: []
### **to-string**
Concatenatives all of the inputs to their string representation, separated by spaces.

(to-string xs ...)

* xs : any/c

#### Examples
```scheme
&gt; (to-string 10) ;; =&gt; "10"
&gt; (to-string "hello" "world") ;; =&gt; "hello world"
</code></pre>
<h3 id="output-port-1"><a class="header" href="#output-port-1"><strong>output-port?</strong></a></h3>
<p>Checks if a given value is an output port</p>
<p>(output-port? any/c) -&gt; bool?</p>
<h4 id="examples-25"><a class="header" href="#examples-25">Examples</a></h4>
<pre><code class="language-scheme">&gt; (define output (open-output-file "foo.txt"))
&gt; (output-port? output) ;; =&gt; #true
</code></pre>
<h3 id="open-output-file-1"><a class="header" href="#open-output-file-1"><strong>open-output-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to a file to be created and returns an output port.</p>
<p>(open-output-file string?) -&gt; output-port?</p>
<h4 id="examples-26"><a class="header" href="#examples-26">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-output-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="range"><a class="header" href="#range"><strong>range</strong></a></h3>
<p>Returns a newly allocated list of the elements in the range (n, m]</p>
<p>(range n m) -&gt; (listof int?)</p>
<ul>
<li>n : int?</li>
<li>m : int?</li>
</ul>
<pre><code class="language-scheme">&gt; (range 0 10) ;; =&gt; '(0 1 2 3 4 5 6 7 8 9)
</code></pre>
<h3 id="string-length-1"><a class="header" href="#string-length-1"><strong>string-length</strong></a></h3>
<p>Get the length of the given string</p>
<p>(string-length string?) -&gt; int?</p>
<h4 id="examples-27"><a class="header" href="#examples-27">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-length "apples") ;; =&gt; 6
</code></pre>
<h3 id="car"><a class="header" href="#car"><strong>car</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(car l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-28"><a class="header" href="#examples-28">Examples</a></h4>
<pre><code class="language-scheme">&gt; (car '(1 2)) ;; =&gt; 1
&gt; (car (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="hash-ref-1"><a class="header" href="#hash-ref-1"><strong>hash-ref</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Raises an error if the key does not exist. <code>hash-get</code> is an alias for this.</p>
<p>(hash-ref map key) -&gt; any/c</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-29"><a class="header" href="#examples-29">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
</code></pre>
<h3 id="first"><a class="header" href="#first"><strong>first</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(first l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-30"><a class="header" href="#examples-30">Examples</a></h4>
<pre><code class="language-scheme">&gt; (first '(1 2)) ;; =&gt; 1
&gt; (first (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="split-whitespace-1"><a class="header" href="#split-whitespace-1"><strong>split-whitespace</strong></a></h3>
<p>Returns a list of strings from the original string split on the whitespace</p>
<p>(split-whitespace string?) -&gt; (listof string?)</p>
<h4 id="examples-31"><a class="header" href="#examples-31">Examples</a></h4>
<pre><code class="language-scheme">(split-whitespace "apples bananas fruits veggies") ;; '("apples" "bananas" "fruits" "veggies")
</code></pre>
<h3 id="list"><a class="header" href="#list"><strong>list</strong></a></h3>
<p>Returns a newly allocated list containing the vs as its elements.</p>
<p>(list v ...) -&gt; list?</p>
<ul>
<li>v : any/c</li>
</ul>
<h4 id="examples-32"><a class="header" href="#examples-32">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list 1 2 3 4 5) ;; =&gt; '(1 2 3 4 5)
&gt; (list (list 1 2) (list 3 4)) ;; =&gt; '((1 2) (3 4))
</code></pre>
<h3 id="hash-try-get-1"><a class="header" href="#hash-try-get-1"><strong>hash-try-get</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Returns #false if the key does not exist.</p>
<p>(hash-try-get map key) -&gt; (or any/c #false)</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-33"><a class="header" href="#examples-33">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-try-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
&gt; (hash-try-get (hash 'a 10 'b 20) 'does-not-exist) ;; =&gt; #false
</code></pre>
<h3 id="pair"><a class="header" href="#pair"><strong>pair?</strong></a></h3>
<p>Checks if the given value can be treated as a pair.
Note - there are no improper lists in steel, so any list with at least one element
is considered a pair.</p>
<p>(pair? any/c) -&gt; bool?</p>
<h4 id="examples-34"><a class="header" href="#examples-34">Examples</a></h4>
<pre><code class="language-scheme">&gt; (pair? '(10 20)) ;; =&gt; #true
&gt; (pair? '(10)) ;; =&gt; #true
&gt; (pair? '()) ;; =&gt; #false
</code></pre>
<h3 id="steellists"><a class="header" href="#steellists"><strong>steel/lists</strong></a></h3>
<h4 id="steellists-1"><a class="header" href="#steellists-1">steel/lists</a></h4>
<p>Lists in Steel have an interface that matches those of classic schemes or lisps.
At face value, they appear to be implemented as cons cells - however, under the hood
they are actually implemented as unrolled linked lists.</p>
<p>This means that for most practical purposes, interaction with lists is the same.
That being said, there are no improper lists, meaning, pairs are actually just lists of two elements.</p>
<p>Indexing into a list also takes O(n/64) - which means you'll get constant time indexing on small lists.</p>
<pre><code class="language-scheme">(list 10 20 30 40) ;; =&gt; '(10 20 30 40)
</code></pre>
<h3 id="third"><a class="header" href="#third"><strong>third</strong></a></h3>
<p>Get the third element of the list. Raises an error if the list does not have an element in the third position.</p>
<p>(third l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-35"><a class="header" href="#examples-35">Examples</a></h4>
<pre><code class="language-scheme">&gt; (third '(1 2 3)) ;; =&gt; 3
&gt; (third '())
error[E11]: Generic
┌─ :1:2
│
1 │ (third '())
│  ^^^^^^ third: index out of bounds - list did not have an element in the second position: []
</code></pre>
<h3 id="hash-length-1"><a class="header" href="#hash-length-1"><strong>hash-length</strong></a></h3>
<p>Returns the number of key value pairs in the map</p>
<p>(hash-length map) -&gt; (and positive? int?)</p>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-36"><a class="header" href="#examples-36">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-length (hash 'a 10 'b 20)) ;; =&gt; 2
</code></pre>
<h3 id="string-upper-1"><a class="header" href="#string-upper-1"><strong>string-&gt;upper</strong></a></h3>
<p>Creates a new uppercased version of the input string</p>
<p>(string-&gt;upper string?) -&gt; string?</p>
<h4 id="examples-37"><a class="header" href="#examples-37">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;upper "lower") ;; =&gt; "LOWER"
</code></pre>
<h3 id="trim-1"><a class="header" href="#trim-1"><strong>trim</strong></a></h3>
<p>Returns a new string with the leading and trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-38"><a class="header" href="#examples-38">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo"
</code></pre>
<h3 id="starts-with-1"><a class="header" href="#starts-with-1"><strong>starts-with?</strong></a></h3>
<p>Checks if the input string starts with a prefix</p>
<p>(starts-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-39"><a class="header" href="#examples-39">Examples</a></h4>
<pre><code class="language-scheme">&gt; (starts-with? "foobar" "foo") ;; =&gt; #true
&gt; (starts-with? "foobar" "bar") ;; =&gt; #false
</code></pre>
<h3 id="open-input-file-1"><a class="header" href="#open-input-file-1"><strong>open-input-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to an existing file and returns an input port. Raises an error
if the file does not exist</p>
<p>(open-input-file string?) -&gt; input-port?</p>
<h4 id="examples-40"><a class="header" href="#examples-40">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-input-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
&gt; (open-input-file "file-does-not-exist.txt")
error[E08]: Io
┌─ :1:2
│
1 │ (open-input-file "foo-bar.txt")
│  ^^^^^^^^^^^^^^^ No such file or directory (os error 2)
</code></pre>
<h3 id="input-port-1"><a class="header" href="#input-port-1"><strong>input-port?</strong></a></h3>
<p>Checks if a given value is an input port</p>
<p>(input-port? any/c) -&gt; bool?</p>
<h4 id="examples-41"><a class="header" href="#examples-41">Examples</a></h4>
<pre><code class="language-scheme">&gt; (input-port? (stdin)) ;; =&gt; #true
&gt; (input-port? "foo") ;; =&gt; #false
</code></pre>
<h3 id="ends-with-1"><a class="header" href="#ends-with-1"><strong>ends-with?</strong></a></h3>
<p>Checks if the input string ends with a given suffix</p>
<p>(ends-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-42"><a class="header" href="#examples-42">Examples</a></h4>
<pre><code class="language-scheme">&gt; (ends-with? "foobar" "foo") ;; =&gt; #false
&gt; (ends-with? "foobar" "bar") ;; =&gt; #true
</code></pre>
<h3 id="string-append-1"><a class="header" href="#string-append-1"><strong>string-append</strong></a></h3>
<p>Concatenates all of the given strings into one</p>
<p>(string-append strs...) -&gt; string?</p>
<ul>
<li>strs ... : string?</li>
</ul>
<h4 id="examples-43"><a class="header" href="#examples-43">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-append) ;; =&gt; ""
&gt; (string-append "foo" "bar") ;; =&gt; "foobar"
### **steel/time**


#### steel/time
    
Contains direct wrappers around the Rust `std::time::Instant` and `std::time::Duration` modules. 
For example, to measure the time something takes:

```scheme
(define t (instant/now))
(displayln "Hello world")
(displayln (instant/elapsed t))
</code></pre>
<h3 id="trim-end-1"><a class="header" href="#trim-end-1"><strong>trim-end</strong></a></h3>
<p>Returns a new string with the trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-44"><a class="header" href="#examples-44">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "   foo"
</code></pre>
<h3 id="string-list-1"><a class="header" href="#string-list-1"><strong>string-&gt;list</strong></a></h3>
<p>Converts a string into a list of characters.</p>
<p>(string-&gt;list string?) -&gt; (listof char?)</p>
<h4 id="examples-45"><a class="header" href="#examples-45">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;list "hello") ;; =&gt; '(#\h #\e #\l #\l #\o)
</code></pre>
<h3 id="empty"><a class="header" href="#empty"><strong>empty?</strong></a></h3>
<p>Checks if the list is empty</p>
<p>(empty? lst) -&gt; bool?</p>
<ul>
<li>lst: list?</li>
</ul>
<h4 id="examples-46"><a class="header" href="#examples-46">Examples</a></h4>
<pre><code class="language-scheme">&gt; (empty? (list 1 2 3 4 5)) ;; =&gt; #false
&gt; (empty? '()) ;; =&gt; #true
</code></pre>
<h3 id="int-string-1"><a class="header" href="#int-string-1"><strong>int-&gt;string</strong></a></h3>
<p>Converts an integer into a string.</p>
<p>(int-&gt;string int?) -&gt; string?</p>
<h4 id="examples-47"><a class="header" href="#examples-47">Examples</a></h4>
<pre><code class="language-scheme">&gt; (int-&gt;string 10) ;; =&gt; "10"
</code></pre>
<h3 id="trim-start-1"><a class="header" href="#trim-start-1"><strong>trim-start</strong></a></h3>
<p>Returns a new string with the leading whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-48"><a class="header" href="#examples-48">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo     "
</code></pre>
<h3 id="stdin-1"><a class="header" href="#stdin-1"><strong>stdin</strong></a></h3>
<p>Gets the port handle to stdin</p>
<p>(stdin) -&gt; input-port?</p>
<h4 id="examples-49"><a class="header" href="#examples-49">Examples</a></h4>
<pre><code class="language-scheme">&gt; (stdin) ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="hash-insert-1"><a class="header" href="#hash-insert-1"><strong>hash-insert</strong></a></h3>
<p>Returns a new hashmap with the additional key value pair added. Performs a functional update,
so the old hash map is still accessible.</p>
<p>(hash-insert map key val) -&gt; hash?</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
<li>val : any/c</li>
</ul>
<h4 id="examples-50"><a class="header" href="#examples-50">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-insert (hash 'a 10 'b 20) 'c 30)

=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
'c: 30
}&gt;
</code></pre>
<h3 id="string-lower"><a class="header" href="#string-lower"><strong>string-&gt;lower</strong></a></h3>
<p>Creates a new lowercased version of the input string</p>
<p>(string-&gt;lower string?) -&gt; string?</p>
<h4 id="examples-51"><a class="header" href="#examples-51">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;lower "sPonGeBoB tExT") ;; =&gt; "spongebob text"
</code></pre>
<h3 id="string-int-1"><a class="header" href="#string-int-1"><strong>string-&gt;int</strong></a></h3>
<p>Converts a string into an int. Raises an error if the string cannot be converted to an integer.</p>
<p>(string-&gt;int string?) -&gt; int?</p>
<h4 id="examples-52"><a class="header" href="#examples-52">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;int "100") ;; =&gt; 10
&gt; (string-&gt;int "not-an-int") ;; error
</code></pre>
<h3 id="string-symbol-1"><a class="header" href="#string-symbol-1"><strong>string-&gt;symbol</strong></a></h3>
<p>Converts a string into a symbol.</p>
<p>(string-&gt;symbol string?) -&gt; symbol?</p>
<h4 id="examples-53"><a class="header" href="#examples-53">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;symbol "FooBar") ;; =&gt; 'FooBar
</code></pre>
<h1 id="steelprocess"><a class="header" href="#steelprocess">steel/process</a></h1>
<h1 id="steelnumbers"><a class="header" href="#steelnumbers">steel/numbers</a></h1>
<h1 id="steelstreams"><a class="header" href="#steelstreams">steel/streams</a></h1>
<h1 id="steelconstants"><a class="header" href="#steelconstants">steel/constants</a></h1>
<h1 id="steelthreads"><a class="header" href="#steelthreads">steel/threads</a></h1>
<h1 id="steellists-2"><a class="header" href="#steellists-2">steel/lists</a></h1>
<h3 id="steellists-3"><a class="header" href="#steellists-3"><strong>steel/lists</strong></a></h3>
<h4 id="steellists-4"><a class="header" href="#steellists-4">steel/lists</a></h4>
<p>Lists in Steel have an interface that matches those of classic schemes or lisps.
At face value, they appear to be implemented as cons cells - however, under the hood
they are actually implemented as unrolled linked lists.</p>
<p>This means that for most practical purposes, interaction with lists is the same.
That being said, there are no improper lists, meaning, pairs are actually just lists of two elements.</p>
<p>Indexing into a list also takes O(n/64) - which means you'll get constant time indexing on small lists.</p>
<pre><code class="language-scheme">(list 10 20 30 40) ;; =&gt; '(10 20 30 40)
</code></pre>
<h3 id="pair-1"><a class="header" href="#pair-1"><strong>pair?</strong></a></h3>
<p>Checks if the given value can be treated as a pair.
Note - there are no improper lists in steel, so any list with at least one element
is considered a pair.</p>
<p>(pair? any/c) -&gt; bool?</p>
<h4 id="examples-54"><a class="header" href="#examples-54">Examples</a></h4>
<pre><code class="language-scheme">&gt; (pair? '(10 20)) ;; =&gt; #true
&gt; (pair? '(10)) ;; =&gt; #true
&gt; (pair? '()) ;; =&gt; #false
</code></pre>
<h3 id="car-1"><a class="header" href="#car-1"><strong>car</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(car l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-55"><a class="header" href="#examples-55">Examples</a></h4>
<pre><code class="language-scheme">&gt; (car '(1 2)) ;; =&gt; 1
&gt; (car (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="third-1"><a class="header" href="#third-1"><strong>third</strong></a></h3>
<p>Get the third element of the list. Raises an error if the list does not have an element in the third position.</p>
<p>(third l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-56"><a class="header" href="#examples-56">Examples</a></h4>
<pre><code class="language-scheme">&gt; (third '(1 2 3)) ;; =&gt; 3
&gt; (third '())
error[E11]: Generic
┌─ :1:2
│
1 │ (third '())
│  ^^^^^^ third: index out of bounds - list did not have an element in the second position: []
</code></pre>
<h3 id="empty-1"><a class="header" href="#empty-1"><strong>empty?</strong></a></h3>
<p>Checks if the list is empty</p>
<p>(empty? lst) -&gt; bool?</p>
<ul>
<li>lst: list?</li>
</ul>
<h4 id="examples-57"><a class="header" href="#examples-57">Examples</a></h4>
<pre><code class="language-scheme">&gt; (empty? (list 1 2 3 4 5)) ;; =&gt; #false
&gt; (empty? '()) ;; =&gt; #true
</code></pre>
<h3 id="range-1"><a class="header" href="#range-1"><strong>range</strong></a></h3>
<p>Returns a newly allocated list of the elements in the range (n, m]</p>
<p>(range n m) -&gt; (listof int?)</p>
<ul>
<li>n : int?</li>
<li>m : int?</li>
</ul>
<pre><code class="language-scheme">&gt; (range 0 10) ;; =&gt; '(0 1 2 3 4 5 6 7 8 9)
</code></pre>
<h3 id="first-1"><a class="header" href="#first-1"><strong>first</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(first l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-58"><a class="header" href="#examples-58">Examples</a></h4>
<pre><code class="language-scheme">&gt; (first '(1 2)) ;; =&gt; 1
&gt; (first (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="list-1"><a class="header" href="#list-1"><strong>list</strong></a></h3>
<p>Returns a newly allocated list containing the vs as its elements.</p>
<p>(list v ...) -&gt; list?</p>
<ul>
<li>v : any/c</li>
</ul>
<h4 id="examples-59"><a class="header" href="#examples-59">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list 1 2 3 4 5) ;; =&gt; '(1 2 3 4 5)
&gt; (list (list 1 2) (list 3 4)) ;; =&gt; '((1 2) (3 4))
</code></pre>
<h3 id="second-1"><a class="header" href="#second-1"><strong>second</strong></a></h3>
<p>Get the second element of the list. Raises an error if the list does not have an element in the second position.</p>
<p>(second l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-60"><a class="header" href="#examples-60">Examples</a></h4>
<pre><code class="language-scheme">&gt; (second '(1 2 3)) ;; =&gt; 2
&gt; (second '())
error[E11]: Generic
┌─ :1:2
│
1 │ (second '())
│  ^^^^^^ second: index out of bounds - list did not have an element in the second position: []
### **list-ref**
Returns the value located at the given index. Will raise an error if you try to index out of bounds.

Note: Runs in time proportional to the length of the list, however lists in Steel are implemented in such a fashion that the
time complexity is O(n/64). Meaning, for small lists this can be constant.

(list-ref lst index) -&gt; list?

* lst : list?
* index : (and/c int? positive?)

#### Examples
```scheme
&gt; (list-ref (list 1 2 3 4) 2) ;; =&gt; 3
&gt; (list-ref (range 0 100) 42) ;; =&gt; 42"
&gt; (list-ref (list 1 2 3 4) 10)
error[E11]: Generic
┌─ :1:2
│
1 │ (list-ref (list 1 2 3 4) 10)
│  ^^^^^^^^ out of bounds index in list-ref - list length: 4, index: 10
</code></pre>
<h1 id="steelcontracts"><a class="header" href="#steelcontracts">steel/contracts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelbase-1"><a class="header" href="#steelbase-1">steel/base</a></h1>
<h3 id="abs"><a class="header" href="#abs"><strong>abs</strong></a></h3>
<p>Returns the absolute value of the given input</p>
<h3 id="byte"><a class="header" href="#byte"><strong>byte?</strong></a></h3>
<p>Returns #t if the given value is a byte, meaning an exact
integer between 0 and 255 inclusive, #f otherwise.</p>
<h4 id="examples-61"><a class="header" href="#examples-61">Examples</a></h4>
<pre><code class="language-scheme">(byte? 65) ;; =&gt; #t
(byte? 0) ;; =&gt; #t
(byte? 256) ;; =&gt; #f
(byte? 100000) ;; =&gt; #f
(byte? -1) ;; =&gt; #f
</code></pre>
<h3 id="bytes"><a class="header" href="#bytes"><strong>bytes</strong></a></h3>
<p>Returns a new mutable vector vectors with each byte as the given arguments.
Each argument must satisfy the <code>byte?</code> predicate, meaning it is an exact
integer range from 0 - 255 (inclusive)</p>
<p>(bytes b ...)</p>
<p>b : byte?</p>
<h4 id="example-2"><a class="header" href="#example-2">Example</a></h4>
<pre><code class="language-scheme">(bytes 65 112 112 108 101)
</code></pre>
<h3 id="bytes-list"><a class="header" href="#bytes-list"><strong>bytes-&gt;list</strong></a></h3>
<p>Converts the bytevector to the equivalent list representation.</p>
<h4 id="examples-62"><a class="header" href="#examples-62">Examples</a></h4>
<pre><code class="language-scheme">(bytes-&gt;list (bytes 0 1 2 3 4 5)) ;; =&gt; '(0 1 2 3 4 5)
</code></pre>
<h3 id="bytes-append"><a class="header" href="#bytes-append"><strong>bytes-append</strong></a></h3>
<p>Append two byte vectors into a new bytevector.</p>
<h4 id="examples-63"><a class="header" href="#examples-63">Examples</a></h4>
<pre><code class="language-scheme">(bytes-append (bytes 0 1 2) (bytes 3 4 5)) ;; (bytes 0 1 2 3 4 5)
</code></pre>
<h3 id="bytes-length"><a class="header" href="#bytes-length"><strong>bytes-length</strong></a></h3>
<p>Returns the length of the given byte vector</p>
<h4 id="examples-64"><a class="header" href="#examples-64">Examples</a></h4>
<pre><code class="language-scheme">(bytes-length (bytes 1 2 3 4 5)) ;; =&gt; 5
</code></pre>
<h3 id="bytes-ref"><a class="header" href="#bytes-ref"><strong>bytes-ref</strong></a></h3>
<p>Fetches the byte at the given index within the bytevector.
If the index is out of bounds, this will error.</p>
<p>(bytes-ref vector index)</p>
<p>vector : bytes?
index: (and exact? int?)</p>
<h4 id="examples-65"><a class="header" href="#examples-65">Examples</a></h4>
<pre><code class="language-scheme">(bytes-ref (bytes 0 1 2 3 4 5) 3) ;; =&gt; 4
(bytes-ref (bytes) 10) ;; error
</code></pre>
<h3 id="bytes-set"><a class="header" href="#bytes-set"><strong>bytes-set!</strong></a></h3>
<p>Sets the byte at the given index to the given byte. Will error
if the index is out of bounds.</p>
<p>(bytes-set! vector index byte)</p>
<p>vector : bytes?
index: (and exact? int?)
byte: byte?</p>
<h4 id="examples-66"><a class="header" href="#examples-66">Examples</a></h4>
<pre><code class="language-scheme">(define my-bytes (bytes 0 1 2 3 4 5))
(bytes-set! my-bytes 0 100)
(bytes-ref my-bytes 0) ;; =&gt; 100
</code></pre>
<h3 id="bytes-1"><a class="header" href="#bytes-1"><strong>bytes?</strong></a></h3>
<p>Returns <code>#t</code> if this value is a bytevector</p>
<h4 id="examples-67"><a class="header" href="#examples-67">Examples</a></h4>
<pre><code class="language-scheme">(bytes? (bytes 0 1 2)) ;; =&gt; #t
(bytes? (list 10 20 30)) ;; =&gt; #f
</code></pre>
<h3 id="bytevector"><a class="header" href="#bytevector"><strong>bytevector</strong></a></h3>
<p>Returns a new mutable vector vectors with each byte as the given arguments.
Each argument must satisfy the <code>byte?</code> predicate, meaning it is an exact
integer range from 0 - 255 (inclusive)</p>
<p>(bytevector b ...)</p>
<p>b : byte?</p>
<h4 id="example-3"><a class="header" href="#example-3">Example</a></h4>
<pre><code class="language-scheme">(bytevector 65 112 112 108 101)
</code></pre>
<h3 id="car-2"><a class="header" href="#car-2"><strong>car</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(car l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-68"><a class="header" href="#examples-68">Examples</a></h4>
<pre><code class="language-scheme">&gt; (car '(1 2)) ;; =&gt; 1
&gt; (car (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="char"><a class="header" href="#char"><strong>char=?</strong></a></h3>
<p>Checks if two characters are equal</p>
<p>Requires that the two inputs are both characters, and will otherwise
raise an error.</p>
<h3 id="copy-directory-recursively"><a class="header" href="#copy-directory-recursively"><strong>copy-directory-recursively!</strong></a></h3>
<p>Recursively copies the directory from source to destination</p>
<h3 id="create-directory"><a class="header" href="#create-directory"><strong>create-directory!</strong></a></h3>
<p>Creates the directory</p>
<h3 id="current-directory"><a class="header" href="#current-directory"><strong>current-directory</strong></a></h3>
<p>Check the current working directory</p>
<h3 id="delete-directory"><a class="header" href="#delete-directory"><strong>delete-directory!</strong></a></h3>
<p>Deletes the directory</p>
<h3 id="empty-2"><a class="header" href="#empty-2"><strong>empty?</strong></a></h3>
<p>Checks if the list is empty</p>
<p>(empty? lst) -&gt; bool?</p>
<ul>
<li>lst: list?</li>
</ul>
<h4 id="examples-69"><a class="header" href="#examples-69">Examples</a></h4>
<pre><code class="language-scheme">&gt; (empty? (list 1 2 3 4 5)) ;; =&gt; #false
&gt; (empty? '()) ;; =&gt; #true
</code></pre>
<h3 id="ends-with-2"><a class="header" href="#ends-with-2"><strong>ends-with?</strong></a></h3>
<p>Checks if the input string ends with a given suffix</p>
<p>(ends-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-70"><a class="header" href="#examples-70">Examples</a></h4>
<pre><code class="language-scheme">&gt; (ends-with? "foobar" "foo") ;; =&gt; #false
&gt; (ends-with? "foobar" "bar") ;; =&gt; #true
</code></pre>
<h3 id="exp"><a class="header" href="#exp"><strong>exp</strong></a></h3>
<p>Returns Euler's number raised to the power of z.</p>
<h3 id="file-name"><a class="header" href="#file-name"><strong>file-name</strong></a></h3>
<p>Gets the filename for a given path</p>
<h3 id="first-2"><a class="header" href="#first-2"><strong>first</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(first l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-71"><a class="header" href="#examples-71">Examples</a></h4>
<pre><code class="language-scheme">&gt; (first '(1 2)) ;; =&gt; 1
&gt; (first (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="hash"><a class="header" href="#hash"><strong>hash</strong></a></h3>
<p>Creates an immutable hash table with each given <code>key</code> mapped to the following <code>val</code>.
Each key must have a val, so the total number of arguments must be even.</p>
<p>(hash key val ...) -&gt; hash?</p>
<p>key : hashable?
val : any/c</p>
<p>Note: the keys must be hashable.</p>
<h4 id="examples-72"><a class="header" href="#examples-72">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash 'a 10 'b 20)",
r#"=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
}&gt;"#,
</code></pre>
<h3 id="hash-clear"><a class="header" href="#hash-clear"><strong>hash-clear</strong></a></h3>
<p>Clears the entries out of the existing hashmap.
Will attempt to reuse the existing memory if there are no other references
to the hashmap.</p>
<p>(hash-clear h) -&gt; hash?</p>
<p>h: hash?</p>
<h4 id="examples-73"><a class="header" href="#examples-73">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-clear (hash 'a 10 'b 20))
=&gt; '#hash()
</code></pre>
<h3 id="hash-contains-2"><a class="header" href="#hash-contains-2"><strong>hash-contains?</strong></a></h3>
<p>Checks whether the given map contains the given key. Key must be hashable.</p>
<p>(hash-contains? map key) -&gt; bool?</p>
<ul>
<li>map : hash?</li>
<li>key : hashable?</li>
</ul>
<h4 id="example-4"><a class="header" href="#example-4">Example</a></h4>
<pre><code class="language-scheme">&gt; (hash-contains? (hash 'a 10 'b 20) 'a) ;; =&gt; #true
&gt; (hash-contains? (hash 'a 10 'b 20) 'not-there) ;; =&gt; #false
</code></pre>
<h3 id="hash-empty"><a class="header" href="#hash-empty"><strong>hash-empty?</strong></a></h3>
<p>Checks whether the hash map is empty</p>
<p>(hash-empty? m) -&gt; bool?</p>
<p>m: hash?</p>
<h4 id="examples-74"><a class="header" href="#examples-74">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-empty? (hash 'a 10)) ;; =&gt; #f
&gt; (hash-emptY? (hash)) ;; =&gt; #true
</code></pre>
<h3 id="hash-insert-2"><a class="header" href="#hash-insert-2"><strong>hash-insert</strong></a></h3>
<p>Returns a new hashmap with the additional key value pair added. Performs a functional update,
so the old hash map is still accessible.</p>
<p>(hash-insert map key val) -&gt; hash?</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
<li>val : any/c</li>
</ul>
<h4 id="examples-75"><a class="header" href="#examples-75">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-insert (hash 'a 10 'b 20) 'c 30)

=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
'c: 30
}&gt;
</code></pre>
<h3 id="hash-keys-list"><a class="header" href="#hash-keys-list"><strong>hash-keys-&gt;list</strong></a></h3>
<p>Returns the keys of the given hash map as a list.</p>
<pre><code class="language-scheme">(hash-keys-&gt;list map) -&gt; (listof hashable?)
</code></pre>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-76"><a class="header" href="#examples-76">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;list? (hash 'a 'b 20)) ;; =&gt; '(a b)
</code></pre>
<h3 id="hash-keys-vector"><a class="header" href="#hash-keys-vector"><strong>hash-keys-&gt;vector</strong></a></h3>
<p>Returns the keys of the given hash map as an immutable vector</p>
<p>(hash-keys-&gt;vector map) -&gt; (vectorof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-77"><a class="header" href="#examples-77">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;vector (hash 'a 10 'b 20)),
=&gt; ['a 'b]",
</code></pre>
<h3 id="hash-length-2"><a class="header" href="#hash-length-2"><strong>hash-length</strong></a></h3>
<p>Returns the number of key value pairs in the map</p>
<p>(hash-length map) -&gt; (and positive? int?)</p>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-78"><a class="header" href="#examples-78">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-length (hash 'a 10 'b 20)) ;; =&gt; 2
</code></pre>
<h3 id="hash-ref-2"><a class="header" href="#hash-ref-2"><strong>hash-ref</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Raises an error if the key does not exist. <code>hash-get</code> is an alias for this.</p>
<p>(hash-ref map key) -&gt; any/c</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-79"><a class="header" href="#examples-79">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-ref (hash 'a 10 'b 20) 'b) ;; =&gt; 20
</code></pre>
<h3 id="hash-try-get-2"><a class="header" href="#hash-try-get-2"><strong>hash-try-get</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Returns #false if the key does not exist.</p>
<p>(hash-try-get map key) -&gt; (or any/c #false)</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-80"><a class="header" href="#examples-80">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-try-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
&gt; (hash-try-get (hash 'a 10 'b 20) 'does-not-exist) ;; =&gt; #false
</code></pre>
<h3 id="hash-union"><a class="header" href="#hash-union"><strong>hash-union</strong></a></h3>
<p>Constructs the union of two hashmaps, keeping the values
in the left map when the keys exist in both maps.</p>
<p>Will reuse memory where possible.</p>
<p>(hash-union l r) -&gt; hash?</p>
<h4 id="examples-81"><a class="header" href="#examples-81">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-union (hash 'a 10) (hash 'b 20)) ;; =&gt; '#hash((a . 10) (b . 20))
</code></pre>
<h3 id="hash-values-list"><a class="header" href="#hash-values-list"><strong>hash-values-&gt;list</strong></a></h3>
<p>Returns the values of the given hash map as a list</p>
<p>(hash-values-&gt;list? map) -&gt; (listof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-82"><a class="header" href="#examples-82">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-values-&gt;list? (hash 'a 10 'b 20)),
=&gt; '(10 20)",
</code></pre>
<h3 id="hash-values-vector"><a class="header" href="#hash-values-vector"><strong>hash-values-&gt;vector</strong></a></h3>
<p>Returns the values of the given hash map as an immutable vector</p>
<p>(hash-values-&gt;vector map) -&gt; (vectorof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-83"><a class="header" href="#examples-83">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;vector (hash 'a 10 'b 20)),
=&gt; [10 10]",
</code></pre>
<h3 id="input-port-2"><a class="header" href="#input-port-2"><strong>input-port?</strong></a></h3>
<p>Checks if a given value is an input port</p>
<p>(input-port? any/c) -&gt; bool?</p>
<h4 id="examples-84"><a class="header" href="#examples-84">Examples</a></h4>
<pre><code class="language-scheme">&gt; (input-port? (stdin)) ;; =&gt; #true
&gt; (input-port? "foo") ;; =&gt; #false
</code></pre>
<h3 id="int-string-2"><a class="header" href="#int-string-2"><strong>int-&gt;string</strong></a></h3>
<p>Converts an integer into a string.</p>
<p>(int-&gt;string int?) -&gt; string?</p>
<h4 id="examples-85"><a class="header" href="#examples-85">Examples</a></h4>
<pre><code class="language-scheme">&gt; (int-&gt;string 10) ;; =&gt; "10"
</code></pre>
<h3 id="is-dir"><a class="header" href="#is-dir"><strong>is-dir?</strong></a></h3>
<p>Checks if a path is a directory</p>
<h3 id="is-file"><a class="header" href="#is-file"><strong>is-file?</strong></a></h3>
<p>Checks if a path is a file</p>
<h3 id="length"><a class="header" href="#length"><strong>length</strong></a></h3>
<p>Returns the length of the list.</p>
<p>(length l) -&gt; int?</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-86"><a class="header" href="#examples-86">Examples</a></h4>
<pre><code class="language-scheme">&gt; (length (list 10 20 30)) ;; =&gt; 3
</code></pre>
<h3 id="list-2"><a class="header" href="#list-2"><strong>list</strong></a></h3>
<p>Returns a newly allocated list containing the vs as its elements.</p>
<p>(list v ...) -&gt; list?</p>
<ul>
<li>v : any/c</li>
</ul>
<h4 id="examples-87"><a class="header" href="#examples-87">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list 1 2 3 4 5) ;; =&gt; '(1 2 3 4 5)
&gt; (list (list 1 2) (list 3 4)) ;; =&gt; '((1 2) (3 4))
</code></pre>
<h3 id="list-bytes"><a class="header" href="#list-bytes"><strong>list-&gt;bytes</strong></a></h3>
<p>Converts the list of bytes to the equivalent bytevector representation.
The list must contain <em>only</em> values which satisfy the <code>byte?</code> predicate,
otherwise this function will error.</p>
<h4 id="examples-88"><a class="header" href="#examples-88">Examples</a></h4>
<pre><code class="language-scheme">(list-&gt;bytes (list 0 1 2 3 4 5)) ;; =&gt; (bytes 0 1 2 3 4 5)
</code></pre>
<h3 id="list-ref-1"><a class="header" href="#list-ref-1"><strong>list-ref</strong></a></h3>
<p>Returns the value located at the given index. Will raise an error if you try to index out of bounds.</p>
<p>Note: Runs in time proportional to the length of the list, however lists in Steel are implemented in such a fashion that the
time complexity is O(n/64). Meaning, for small lists this can be constant.</p>
<p>(list-ref lst index) -&gt; list?</p>
<ul>
<li>lst : list?</li>
<li>index : (and/c int? positive?)</li>
</ul>
<h4 id="examples-89"><a class="header" href="#examples-89">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list-ref (list 1 2 3 4) 2) ;; =&gt; 3
&gt; (list-ref (range 0 100) 42) ;; =&gt; 42"
&gt; (list-ref (list 1 2 3 4) 10)
error[E11]: Generic
┌─ :1:2
│
1 │ (list-ref (list 1 2 3 4) 10)
│  ^^^^^^^^ out of bounds index in list-ref - list length: 4, index: 10
</code></pre>
<h3 id="number-string"><a class="header" href="#number-string"><strong>number-&gt;string</strong></a></h3>
<p>Converts the given number to a string</p>
<h3 id="open-input-file-2"><a class="header" href="#open-input-file-2"><strong>open-input-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to an existing file and returns an input port. Raises an error
if the file does not exist</p>
<p>(open-input-file string?) -&gt; input-port?</p>
<h4 id="examples-90"><a class="header" href="#examples-90">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-input-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
&gt; (open-input-file "file-does-not-exist.txt")
error[E08]: Io
┌─ :1:2
│
1 │ (open-input-file "foo-bar.txt")
│  ^^^^^^^^^^^^^^^ No such file or directory (os error 2)
</code></pre>
<h3 id="open-output-file-2"><a class="header" href="#open-output-file-2"><strong>open-output-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to a file to be created and returns an output port.</p>
<p>(open-output-file string?) -&gt; output-port?</p>
<h4 id="examples-91"><a class="header" href="#examples-91">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-output-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="output-port-2"><a class="header" href="#output-port-2"><strong>output-port?</strong></a></h3>
<p>Checks if a given value is an output port</p>
<p>(output-port? any/c) -&gt; bool?</p>
<h4 id="examples-92"><a class="header" href="#examples-92">Examples</a></h4>
<pre><code class="language-scheme">&gt; (define output (open-output-file "foo.txt"))
&gt; (output-port? output) ;; =&gt; #true
</code></pre>
<h3 id="pair-2"><a class="header" href="#pair-2"><strong>pair?</strong></a></h3>
<p>Checks if the given value can be treated as a pair.
Note - there are no improper lists in steel, so any list with at least one element
is considered a pair.</p>
<p>(pair? any/c) -&gt; bool?</p>
<h4 id="examples-93"><a class="header" href="#examples-93">Examples</a></h4>
<pre><code class="language-scheme">&gt; (pair? '(10 20)) ;; =&gt; #true
&gt; (pair? '(10)) ;; =&gt; #true
&gt; (pair? '()) ;; =&gt; #false
</code></pre>
<h3 id="path-extension"><a class="header" href="#path-extension"><strong>path-&gt;extension</strong></a></h3>
<p>Gets the extension from a path</p>
<h3 id="path-exists"><a class="header" href="#path-exists"><strong>path-exists?</strong></a></h3>
<p>Checks if a path exists</p>
<h3 id="range-2"><a class="header" href="#range-2"><strong>range</strong></a></h3>
<p>Returns a newly allocated list of the elements in the range (n, m]</p>
<p>(range n m) -&gt; (listof int?)</p>
<ul>
<li>n : int?</li>
<li>m : int?</li>
</ul>
<pre><code class="language-scheme">&gt; (range 0 10) ;; =&gt; '(0 1 2 3 4 5 6 7 8 9)
</code></pre>
<h3 id="rational"><a class="header" href="#rational"><strong>rational?</strong></a></h3>
<p>Returns #t if obj is a rational number, #f otherwise.
Rational numbers are numbers that can be expressed as the quotient of two numbers.
For example, 3/4, -5/2, 0.25, and 0 are rational numbers, while</p>
<p>(rational? value) -&gt; bool?</p>
<p>Examples:</p>
<pre><code class="language-scheme">(rational? (/ 0.0)) ⇒ #f
(rational? 3.5)     ⇒ #t
(rational? 6/10)    ⇒ #t
(rational? 6/3)     ⇒ #t
</code></pre>
<h3 id="read-dir"><a class="header" href="#read-dir"><strong>read-dir</strong></a></h3>
<p>Returns the contents of the directory as a list</p>
<h3 id="read-port-to-string-2"><a class="header" href="#read-port-to-string-2"><strong>read-port-to-string</strong></a></h3>
<p>Takes a port and reads the entire content into a string</p>
<p>(read-port-to-string port) -&gt; string?</p>
<ul>
<li>port : input-port?</li>
</ul>
<h3 id="second-2"><a class="header" href="#second-2"><strong>second</strong></a></h3>
<p>Get the second element of the list. Raises an error if the list does not have an element in the second position.</p>
<p>(second l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-94"><a class="header" href="#examples-94">Examples</a></h4>
<pre><code class="language-scheme">&gt; (second '(1 2 3)) ;; =&gt; 2
&gt; (second '())
error[E11]: Generic
┌─ :1:2
│
1 │ (second '())
│  ^^^^^^ second: index out of bounds - list did not have an element in the second position: []
### **split-whitespace**
Returns a list of strings from the original string split on the whitespace

(split-whitespace string?) -&gt; (listof string?)

#### Examples

```scheme
(split-whitespace "apples bananas fruits veggies") ;; '("apples" "bananas" "fruits" "veggies")
</code></pre>
<h3 id="starts-with-2"><a class="header" href="#starts-with-2"><strong>starts-with?</strong></a></h3>
<p>Checks if the input string starts with a prefix</p>
<p>(starts-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-95"><a class="header" href="#examples-95">Examples</a></h4>
<pre><code class="language-scheme">&gt; (starts-with? "foobar" "foo") ;; =&gt; #true
&gt; (starts-with? "foobar" "bar") ;; =&gt; #false
</code></pre>
<h3 id="stdin-2"><a class="header" href="#stdin-2"><strong>stdin</strong></a></h3>
<p>Gets the port handle to stdin</p>
<p>(stdin) -&gt; input-port?</p>
<h4 id="examples-96"><a class="header" href="#examples-96">Examples</a></h4>
<pre><code class="language-scheme">&gt; (stdin) ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="string"><a class="header" href="#string"><strong>string</strong></a></h3>
<p>Constructs a string from the given characters</p>
<h3 id="string-bytes"><a class="header" href="#string-bytes"><strong>string-&gt;bytes</strong></a></h3>
<p>Converts the given string to a bytevector</p>
<h4 id="examples-97"><a class="header" href="#examples-97">Examples</a></h4>
<pre><code class="language-scheme">(string-&gt;bytes "Apple") ;; =&gt; (bytes 65 112 112 108 101)
</code></pre>
<h3 id="string-int-2"><a class="header" href="#string-int-2"><strong>string-&gt;int</strong></a></h3>
<p>Converts a string into an int. Raises an error if the string cannot be converted to an integer.</p>
<p>(string-&gt;int string?) -&gt; int?</p>
<h4 id="examples-98"><a class="header" href="#examples-98">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;int "100") ;; =&gt; 10
&gt; (string-&gt;int "not-an-int") ;; error
</code></pre>
<h3 id="string-list-2"><a class="header" href="#string-list-2"><strong>string-&gt;list</strong></a></h3>
<p>Converts a string into a list of characters.</p>
<p>(string-&gt;list string?) -&gt; (listof char?)</p>
<h4 id="examples-99"><a class="header" href="#examples-99">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;list "hello") ;; =&gt; '(#\h #\e #\l #\l #\o)
</code></pre>
<h3 id="string-lower-1"><a class="header" href="#string-lower-1"><strong>string-&gt;lower</strong></a></h3>
<p>Creates a new lowercased version of the input string</p>
<p>(string-&gt;lower string?) -&gt; string?</p>
<h4 id="examples-100"><a class="header" href="#examples-100">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;lower "sPonGeBoB tExT") ;; =&gt; "spongebob text"
</code></pre>
<h3 id="string-number"><a class="header" href="#string-number"><strong>string-&gt;number</strong></a></h3>
<p>Converts the given string to a number</p>
<h3 id="string-symbol-2"><a class="header" href="#string-symbol-2"><strong>string-&gt;symbol</strong></a></h3>
<p>Converts a string into a symbol.</p>
<p>(string-&gt;symbol string?) -&gt; symbol?</p>
<h4 id="examples-101"><a class="header" href="#examples-101">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;symbol "FooBar") ;; =&gt; 'FooBar
</code></pre>
<h3 id="string-upper-2"><a class="header" href="#string-upper-2"><strong>string-&gt;upper</strong></a></h3>
<p>Creates a new uppercased version of the input string</p>
<p>(string-&gt;upper string?) -&gt; string?</p>
<h4 id="examples-102"><a class="header" href="#examples-102">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;upper "lower") ;; =&gt; "LOWER"
</code></pre>
<h3 id="string-append-2"><a class="header" href="#string-append-2"><strong>string-append</strong></a></h3>
<p>Concatenates all of the given strings into one</p>
<p>(string-append strs...) -&gt; string?</p>
<ul>
<li>strs ... : string?</li>
</ul>
<h4 id="examples-103"><a class="header" href="#examples-103">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-append) ;; =&gt; ""
&gt; (string-append "foo" "bar") ;; =&gt; "foobar"
</code></pre>
<h3 id="string-length-2"><a class="header" href="#string-length-2"><strong>string-length</strong></a></h3>
<p>Get the length of the given string in UTF-8 bytes.</p>
<p>(string-length string?) -&gt; int?</p>
<h4 id="examples-104"><a class="header" href="#examples-104">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-length "apples") ;; =&gt; 6
&gt; (string-length "✅") ;; =&gt; 3
&gt; (string-length "🤖") ;; =&gt; 4
</code></pre>
<h3 id="take"><a class="header" href="#take"><strong>take</strong></a></h3>
<p>Returns the first n elements of the list l as a new list.</p>
<p>(take l n) -&gt; list?</p>
<ul>
<li>l : list?</li>
<li>n : (and/c positive? int?)</li>
</ul>
<h4 id="examples-105"><a class="header" href="#examples-105">Examples</a></h4>
<pre><code class="language-scheme">&gt; (take '(1 2 3 4) 2) ;; =&gt; '(0 1)
&gt; (take (range 0 10) 4) ;; =&gt; '(0 1 2 3)
</code></pre>
<h3 id="third-2"><a class="header" href="#third-2"><strong>third</strong></a></h3>
<p>Get the third element of the list. Raises an error if the list does not have an element in the third position.</p>
<p>(third l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-106"><a class="header" href="#examples-106">Examples</a></h4>
<pre><code class="language-scheme">&gt; (third '(1 2 3)) ;; =&gt; 3
&gt; (third '())
error[E11]: Generic
┌─ :1:2
│
1 │ (third '())
│  ^^^^^^ third: index out of bounds - list did not have an element in the second position: []
</code></pre>
<h3 id="to-string-1"><a class="header" href="#to-string-1"><strong>to-string</strong></a></h3>
<p>Concatenatives all of the inputs to their string representation, separated by spaces.</p>
<p>(to-string xs ...)</p>
<ul>
<li>xs : any/c</li>
</ul>
<h4 id="examples-107"><a class="header" href="#examples-107">Examples</a></h4>
<pre><code class="language-scheme">&gt; (to-string 10) ;; =&gt; "10"
&gt; (to-string 10 20) ;; =&gt; "10 20"
&gt; (to-string "hello" "world") ;; =&gt; "hello world"
</code></pre>
<h3 id="trim-2"><a class="header" href="#trim-2"><strong>trim</strong></a></h3>
<p>Returns a new string with the leading and trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-108"><a class="header" href="#examples-108">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo"
</code></pre>
<h3 id="trim-end-2"><a class="header" href="#trim-end-2"><strong>trim-end</strong></a></h3>
<p>Returns a new string with the trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-109"><a class="header" href="#examples-109">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "   foo"
</code></pre>
<h3 id="trim-end-matches"><a class="header" href="#trim-end-matches"><strong>trim-end-matches</strong></a></h3>
<p>Returns a new string with the given <code>pat</code> repeatedly removed from the end
of the string</p>
<pre><code class="language-scheme">(trim-end-matches string? string?) -&gt; string?
</code></pre>
<h4 id="examples-110"><a class="header" href="#examples-110">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim-end-matches "123foo1bar123123" "123") ;; =&gt; "123foo1bar"
</code></pre>
<h3 id="trim-start-2"><a class="header" href="#trim-start-2"><strong>trim-start</strong></a></h3>
<p>Returns a new string with the leading whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-111"><a class="header" href="#examples-111">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo     "
</code></pre>
<h3 id="trim-start-matches"><a class="header" href="#trim-start-matches"><strong>trim-start-matches</strong></a></h3>
<p>Returns a new string with the given <code>pat</code> repeatedly removed from the start
of the string</p>
<pre><code class="language-scheme">(trim-start-matches string? string?) -&gt; string?
</code></pre>
<h4 id="examples-112"><a class="header" href="#examples-112">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim-start-matches "123foo1bar123123" "123") ;; =&gt; "foo1bar123123"
</code></pre>
<h3 id="black-box"><a class="header" href="#black-box"><strong>#%black-box</strong></a></h3>
<h3 id="box"><a class="header" href="#box"><strong>#%box</strong></a></h3>
<h3 id="debug-syntax-exprkind"><a class="header" href="#debug-syntax-exprkind"><strong>#%debug-syntax-&gt;exprkind</strong></a></h3>
<h3 id="default-input-port"><a class="header" href="#default-input-port"><strong>#%default-input-port</strong></a></h3>
<h3 id="default-output-port"><a class="header" href="#default-output-port"><strong>#%default-output-port</strong></a></h3>
<h3 id="environment-length"><a class="header" href="#environment-length"><strong>#%environment-length</strong></a></h3>
<h3 id="function-ptr-table"><a class="header" href="#function-ptr-table"><strong>#%function-ptr-table</strong></a></h3>
<h3 id="function-ptr-table-add"><a class="header" href="#function-ptr-table-add"><strong>#%function-ptr-table-add</strong></a></h3>
<h3 id="function-ptr-table-get"><a class="header" href="#function-ptr-table-get"><strong>#%function-ptr-table-get</strong></a></h3>
<h3 id="get-dylib"><a class="header" href="#get-dylib"><strong>#%get-dylib</strong></a></h3>
<h3 id="iterator-finished"><a class="header" href="#iterator-finished"><strong>#%iterator-finished</strong></a></h3>
<h3 id="native-fn-ptr-doc"><a class="header" href="#native-fn-ptr-doc"><strong>#%native-fn-ptr-doc</strong></a></h3>
<h3 id="private-cycle-collector"><a class="header" href="#private-cycle-collector"><strong>#%private-cycle-collector</strong></a></h3>
<h3 id="private-cycle-collector-get"><a class="header" href="#private-cycle-collector-get"><strong>#%private-cycle-collector-get</strong></a></h3>
<h3 id="private-cycle-collector-values"><a class="header" href="#private-cycle-collector-values"><strong>#%private-cycle-collector-values</strong></a></h3>
<h3 id="private-struct"><a class="header" href="#private-struct"><strong>#%private-struct?</strong></a></h3>
<h3 id="set-box"><a class="header" href="#set-box"><strong>#%set-box!</strong></a></h3>
<h3 id="stream-cdr"><a class="header" href="#stream-cdr"><strong>#%stream-cdr</strong></a></h3>
<h3 id="struct-property-ref"><a class="header" href="#struct-property-ref"><strong>#%struct-property-ref</strong></a></h3>
<h3 id="struct-update"><a class="header" href="#struct-update"><strong>#%struct-update</strong></a></h3>
<h3 id="syntaxraw"><a class="header" href="#syntaxraw"><strong>#%syntax/raw</strong></a></h3>
<h3 id="unbox"><a class="header" href="#unbox"><strong>#%unbox</strong></a></h3>
<h3 id="vtable-update-entry"><a class="header" href="#vtable-update-entry"><strong>#%vtable-update-entry!</strong></a></h3>
<h3 id="iterator"><a class="header" href="#iterator"><strong>%iterator?</strong></a></h3>
<h3 id="keyword-hash"><a class="header" href="#keyword-hash"><strong>%keyword-hash</strong></a></h3>
<h3 id=""><a class="header" href="#">*****</a></h3>
<h3 id="-1"><a class="header" href="#-1"><strong>+</strong></a></h3>
<h3 id="-"><a class="header" href="#-"><strong>-</strong></a></h3>
<h3 id="-2"><a class="header" href="#-2"><strong>/</strong></a></h3>
<h3 id="-3"><a class="header" href="#-3"><strong>&lt;</strong></a></h3>
<h3 id="-4"><a class="header" href="#-4"><strong>&lt;=</strong></a></h3>
<h3 id="-5"><a class="header" href="#-5"><strong>=</strong></a></h3>
<h3 id="-6"><a class="header" href="#-6"><strong>&gt;</strong></a></h3>
<h3 id="-7"><a class="header" href="#-7"><strong>&gt;=</strong></a></h3>
<h3 id="engineadd-module"><a class="header" href="#engineadd-module"><strong>Engine::add-module</strong></a></h3>
<h3 id="engineclone"><a class="header" href="#engineclone"><strong>Engine::clone</strong></a></h3>
<h3 id="enginemodules-list"><a class="header" href="#enginemodules-list"><strong>Engine::modules-&gt;list</strong></a></h3>
<h3 id="enginenew-1"><a class="header" href="#enginenew-1"><strong>Engine::new</strong></a></h3>
<h3 id="engineraise_error"><a class="header" href="#engineraise_error"><strong>Engine::raise_error</strong></a></h3>
<h3 id="err"><a class="header" href="#err"><strong>Err</strong></a></h3>
<h3 id="err-value"><a class="header" href="#err-value"><strong>Err-&gt;value</strong></a></h3>
<h3 id="err-1"><a class="header" href="#err-1"><strong>Err?</strong></a></h3>
<h3 id="none"><a class="header" href="#none"><strong>None</strong></a></h3>
<h3 id="none-1"><a class="header" href="#none-1"><strong>None?</strong></a></h3>
<h3 id="ok"><a class="header" href="#ok"><strong>Ok</strong></a></h3>
<h3 id="ok-value"><a class="header" href="#ok-value"><strong>Ok-&gt;value</strong></a></h3>
<h3 id="ok-1"><a class="header" href="#ok-1"><strong>Ok?</strong></a></h3>
<h3 id="some"><a class="header" href="#some"><strong>Some</strong></a></h3>
<h3 id="some-value"><a class="header" href="#some-value"><strong>Some-&gt;value</strong></a></h3>
<h3 id="some-1"><a class="header" href="#some-1"><strong>Some?</strong></a></h3>
<h3 id="typeid"><a class="header" href="#typeid"><strong>TypeId?</strong></a></h3>
<h3 id="active-object-count"><a class="header" href="#active-object-count"><strong>active-object-count</strong></a></h3>
<h3 id="arithmetic-shift"><a class="header" href="#arithmetic-shift"><strong>arithmetic-shift</strong></a></h3>
<h3 id="arity"><a class="header" href="#arity"><strong>arity?</strong></a></h3>
<h3 id="assert"><a class="header" href="#assert"><strong>assert!</strong></a></h3>
<h3 id="atom"><a class="header" href="#atom"><strong>atom?</strong></a></h3>
<h3 id="attach-contract-struct"><a class="header" href="#attach-contract-struct"><strong>attach-contract-struct!</strong></a></h3>
<h3 id="block-on"><a class="header" href="#block-on"><strong>block-on</strong></a></h3>
<h3 id="bool"><a class="header" href="#bool"><strong>bool?</strong></a></h3>
<h3 id="boolean"><a class="header" href="#boolean"><strong>boolean?</strong></a></h3>
<h3 id="box-1"><a class="header" href="#box-1"><strong>box</strong></a></h3>
<h3 id="breakpoint"><a class="header" href="#breakpoint"><strong>breakpoint!</strong></a></h3>
<h3 id="bytevector-copy"><a class="header" href="#bytevector-copy"><strong>bytevector-copy</strong></a></h3>
<h3 id="call-with-current-continuation"><a class="header" href="#call-with-current-continuation"><strong>call-with-current-continuation</strong></a></h3>
<h3 id="call-with-exception-handler"><a class="header" href="#call-with-exception-handler"><strong>call-with-exception-handler</strong></a></h3>
<h3 id="callcc"><a class="header" href="#callcc"><strong>call/cc</strong></a></h3>
<h3 id="cdr-null"><a class="header" href="#cdr-null"><strong>cdr-null?</strong></a></h3>
<h3 id="ceiling"><a class="header" href="#ceiling"><strong>ceiling</strong></a></h3>
<h3 id="channel-recv"><a class="header" href="#channel-recv"><strong>channel-&gt;recv</strong></a></h3>
<h3 id="channel-send"><a class="header" href="#channel-send"><strong>channel-&gt;send</strong></a></h3>
<h3 id="channel-try-recv"><a class="header" href="#channel-try-recv"><strong>channel-&gt;try-recv</strong></a></h3>
<h3 id="char-number"><a class="header" href="#char-number"><strong>char-&gt;number</strong></a></h3>
<h3 id="char-digit"><a class="header" href="#char-digit"><strong>char-digit?</strong></a></h3>
<h3 id="char-upcase"><a class="header" href="#char-upcase"><strong>char-upcase</strong></a></h3>
<h3 id="char-whitespace"><a class="header" href="#char-whitespace"><strong>char-whitespace?</strong></a></h3>
<h3 id="char-1"><a class="header" href="#char-1"><strong>char?</strong></a></h3>
<h3 id="child-stdin"><a class="header" href="#child-stdin"><strong>child-stdin</strong></a></h3>
<h3 id="child-stdout"><a class="header" href="#child-stdout"><strong>child-stdout</strong></a></h3>
<h3 id="command"><a class="header" href="#command"><strong>command</strong></a></h3>
<h3 id="complex"><a class="header" href="#complex"><strong>complex?</strong></a></h3>
<h3 id="compose"><a class="header" href="#compose"><strong>compose</strong></a></h3>
<h3 id="concat-symbols"><a class="header" href="#concat-symbols"><strong>concat-symbols</strong></a></h3>
<h3 id="continuation"><a class="header" href="#continuation"><strong>continuation?</strong></a></h3>
<h3 id="current-function-span"><a class="header" href="#current-function-span"><strong>current-function-span</strong></a></h3>
<h3 id="current-inexact-milliseconds"><a class="header" href="#current-inexact-milliseconds"><strong>current-inexact-milliseconds</strong></a></h3>
<h3 id="current-milliseconds"><a class="header" href="#current-milliseconds"><strong>current-milliseconds</strong></a></h3>
<h3 id="current-os"><a class="header" href="#current-os"><strong>current-os!</strong></a></h3>
<h3 id="current-second"><a class="header" href="#current-second"><strong>current-second</strong></a></h3>
<h3 id="denominator"><a class="header" href="#denominator"><strong>denominator</strong></a></h3>
<h3 id="dropping"><a class="header" href="#dropping"><strong>dropping</strong></a></h3>
<h3 id="duration-seconds"><a class="header" href="#duration-seconds"><strong>duration-&gt;seconds</strong></a></h3>
<h3 id="duration-string"><a class="header" href="#duration-string"><strong>duration-&gt;string</strong></a></h3>
<h3 id="duration-since"><a class="header" href="#duration-since"><strong>duration-since</strong></a></h3>
<h3 id="empty-stream"><a class="header" href="#empty-stream"><strong>empty-stream</strong></a></h3>
<h3 id="enumerating"><a class="header" href="#enumerating"><strong>enumerating</strong></a></h3>
<h3 id="env-var"><a class="header" href="#env-var"><strong>env-var</strong></a></h3>
<h3 id="eq"><a class="header" href="#eq"><strong>eq?</strong></a></h3>
<h3 id="equal"><a class="header" href="#equal"><strong>equal?</strong></a></h3>
<h3 id="eqv"><a class="header" href="#eqv"><strong>eqv?</strong></a></h3>
<h3 id="error-with-span"><a class="header" href="#error-with-span"><strong>error-with-span</strong></a></h3>
<h3 id="eval"><a class="header" href="#eval"><strong>eval!</strong></a></h3>
<h3 id="even"><a class="header" href="#even"><strong>even?</strong></a></h3>
<h3 id="exact-inexact"><a class="header" href="#exact-inexact"><strong>exact-&gt;inexact</strong></a></h3>
<h3 id="exact-integer"><a class="header" href="#exact-integer"><strong>exact-integer?</strong></a></h3>
<h3 id="exact"><a class="header" href="#exact"><strong>exact?</strong></a></h3>
<h3 id="expand"><a class="header" href="#expand"><strong>expand!</strong></a></h3>
<h3 id="expt"><a class="header" href="#expt"><strong>expt</strong></a></h3>
<h3 id="extending"><a class="header" href="#extending"><strong>extending</strong></a></h3>
<h3 id="f"><a class="header" href="#f"><strong>f+</strong></a></h3>
<h3 id="filtering"><a class="header" href="#filtering"><strong>filtering</strong></a></h3>
<h3 id="finite"><a class="header" href="#finite"><strong>finite?</strong></a></h3>
<h3 id="flat-mapping"><a class="header" href="#flat-mapping"><strong>flat-mapping</strong></a></h3>
<h3 id="flattening"><a class="header" href="#flattening"><strong>flattening</strong></a></h3>
<h3 id="float"><a class="header" href="#float"><strong>float?</strong></a></h3>
<h3 id="floor"><a class="header" href="#floor"><strong>floor</strong></a></h3>
<h3 id="flush-output-port"><a class="header" href="#flush-output-port"><strong>flush-output-port</strong></a></h3>
<h3 id="function-name"><a class="header" href="#function-name"><strong>function-name</strong></a></h3>
<h3 id="function"><a class="header" href="#function"><strong>function?</strong></a></h3>
<h3 id="future"><a class="header" href="#future"><strong>future?</strong></a></h3>
<h3 id="get-contract-struct"><a class="header" href="#get-contract-struct"><strong>get-contract-struct</strong></a></h3>
<h3 id="get-output-string"><a class="header" href="#get-output-string"><strong>get-output-string</strong></a></h3>
<h3 id="get-test-mode"><a class="header" href="#get-test-mode"><strong>get-test-mode</strong></a></h3>
<h3 id="hash-get"><a class="header" href="#hash-get"><strong>hash-get</strong></a></h3>
<h3 id="hash-1"><a class="header" href="#hash-1"><strong>hash?</strong></a></h3>
<h3 id="hashset"><a class="header" href="#hashset"><strong>hashset</strong></a></h3>
<h3 id="hashset-list"><a class="header" href="#hashset-list"><strong>hashset-&gt;list</strong></a></h3>
<h3 id="hashset-vector"><a class="header" href="#hashset-vector"><strong>hashset-&gt;vector</strong></a></h3>
<h3 id="hashset-clear"><a class="header" href="#hashset-clear"><strong>hashset-clear</strong></a></h3>
<h3 id="hashset-contains"><a class="header" href="#hashset-contains"><strong>hashset-contains?</strong></a></h3>
<h3 id="hashset-insert"><a class="header" href="#hashset-insert"><strong>hashset-insert</strong></a></h3>
<h3 id="hashset-length"><a class="header" href="#hashset-length"><strong>hashset-length</strong></a></h3>
<h3 id="hashset-subset"><a class="header" href="#hashset-subset"><strong>hashset-subset?</strong></a></h3>
<h3 id="inexact-exact"><a class="header" href="#inexact-exact"><strong>inexact-&gt;exact</strong></a></h3>
<h3 id="inexact"><a class="header" href="#inexact"><strong>inexact?</strong></a></h3>
<h3 id="infinite"><a class="header" href="#infinite"><strong>infinite?</strong></a></h3>
<h3 id="inspect-bytecode"><a class="header" href="#inspect-bytecode"><strong>inspect-bytecode</strong></a></h3>
<h3 id="instantelapsed"><a class="header" href="#instantelapsed"><strong>instant/elapsed</strong></a></h3>
<h3 id="instantnow"><a class="header" href="#instantnow"><strong>instant/now</strong></a></h3>
<h3 id="int"><a class="header" href="#int"><strong>int?</strong></a></h3>
<h3 id="integer"><a class="header" href="#integer"><strong>integer?</strong></a></h3>
<h3 id="interleaving"><a class="header" href="#interleaving"><strong>interleaving</strong></a></h3>
<h3 id="into-count"><a class="header" href="#into-count"><strong>into-count</strong></a></h3>
<h3 id="into-for-each"><a class="header" href="#into-for-each"><strong>into-for-each</strong></a></h3>
<h3 id="into-hashmap"><a class="header" href="#into-hashmap"><strong>into-hashmap</strong></a></h3>
<h3 id="into-hashset"><a class="header" href="#into-hashset"><strong>into-hashset</strong></a></h3>
<h3 id="into-last"><a class="header" href="#into-last"><strong>into-last</strong></a></h3>
<h3 id="into-list"><a class="header" href="#into-list"><strong>into-list</strong></a></h3>
<h3 id="into-max"><a class="header" href="#into-max"><strong>into-max</strong></a></h3>
<h3 id="into-min"><a class="header" href="#into-min"><strong>into-min</strong></a></h3>
<h3 id="into-nth"><a class="header" href="#into-nth"><strong>into-nth</strong></a></h3>
<h3 id="into-product"><a class="header" href="#into-product"><strong>into-product</strong></a></h3>
<h3 id="into-reducer"><a class="header" href="#into-reducer"><strong>into-reducer</strong></a></h3>
<h3 id="into-string"><a class="header" href="#into-string"><strong>into-string</strong></a></h3>
<h3 id="into-sum"><a class="header" href="#into-sum"><strong>into-sum</strong></a></h3>
<h3 id="into-vector"><a class="header" href="#into-vector"><strong>into-vector</strong></a></h3>
<h3 id="iter-next"><a class="header" href="#iter-next"><strong>iter-next!</strong></a></h3>
<h3 id="join"><a class="header" href="#join"><strong>join!</strong></a></h3>
<h3 id="list-hashset"><a class="header" href="#list-hashset"><strong>list-&gt;hashset</strong></a></h3>
<h3 id="list-string"><a class="header" href="#list-string"><strong>list-&gt;string</strong></a></h3>
<h3 id="list-tail"><a class="header" href="#list-tail"><strong>list-tail</strong></a></h3>
<h3 id="list-3"><a class="header" href="#list-3"><strong>list?</strong></a></h3>
<h3 id="local-executorblock-on"><a class="header" href="#local-executorblock-on"><strong>local-executor/block-on</strong></a></h3>
<h3 id="local-timenow"><a class="header" href="#local-timenow"><strong>local-time/now!</strong></a></h3>
<h3 id="log-1"><a class="header" href="#log-1"><strong>log</strong></a></h3>
<h3 id="make-bytes"><a class="header" href="#make-bytes"><strong>make-bytes</strong></a></h3>
<h3 id="make-channels"><a class="header" href="#make-channels"><strong>make-channels</strong></a></h3>
<h3 id="make-string"><a class="header" href="#make-string"><strong>make-string</strong></a></h3>
<h3 id="make-struct-type"><a class="header" href="#make-struct-type"><strong>make-struct-type</strong></a></h3>
<h3 id="make-vector"><a class="header" href="#make-vector"><strong>make-vector</strong></a></h3>
<h3 id="mapping"><a class="header" href="#mapping"><strong>mapping</strong></a></h3>
<h3 id="maybe-get-env-var"><a class="header" href="#maybe-get-env-var"><strong>maybe-get-env-var</strong></a></h3>
<h3 id="memory-address"><a class="header" href="#memory-address"><strong>memory-address</strong></a></h3>
<h3 id="multi-arity"><a class="header" href="#multi-arity"><strong>multi-arity?</strong></a></h3>
<h3 id="mut-vec-len"><a class="header" href="#mut-vec-len"><strong>mut-vec-len</strong></a></h3>
<h3 id="mut-vector-ref"><a class="header" href="#mut-vector-ref"><strong>mut-vector-ref</strong></a></h3>
<h3 id="mutable-vector-1"><a class="header" href="#mutable-vector-1"><strong>mutable-vector</strong></a></h3>
<h3 id="mutable-vector-list"><a class="header" href="#mutable-vector-list"><strong>mutable-vector-&gt;list</strong></a></h3>
<h3 id="mutable-vector-2"><a class="header" href="#mutable-vector-2"><strong>mutable-vector?</strong></a></h3>
<h3 id="not"><a class="header" href="#not"><strong>not</strong></a></h3>
<h3 id="null"><a class="header" href="#null"><strong>null?</strong></a></h3>
<h3 id="number"><a class="header" href="#number"><strong>number?</strong></a></h3>
<h3 id="numerator"><a class="header" href="#numerator"><strong>numerator</strong></a></h3>
<h3 id="odd"><a class="header" href="#odd"><strong>odd?</strong></a></h3>
<h3 id="open-output-string"><a class="header" href="#open-output-string"><strong>open-output-string</strong></a></h3>
<h3 id="poll"><a class="header" href="#poll"><strong>poll!</strong></a></h3>
<h3 id="pop-front"><a class="header" href="#pop-front"><strong>pop-front</strong></a></h3>
<h3 id="procedure"><a class="header" href="#procedure"><strong>procedure?</strong></a></h3>
<h3 id="push"><a class="header" href="#push"><strong>push</strong></a></h3>
<h3 id="push-back"><a class="header" href="#push-back"><strong>push-back</strong></a></h3>
<h3 id="push-front"><a class="header" href="#push-front"><strong>push-front</strong></a></h3>
<h3 id="quotient"><a class="header" href="#quotient"><strong>quotient</strong></a></h3>
<h3 id="raise-error"><a class="header" href="#raise-error"><strong>raise-error</strong></a></h3>
<h3 id="raise-error-with-span"><a class="header" href="#raise-error-with-span"><strong>raise-error-with-span</strong></a></h3>
<h3 id="range-vec"><a class="header" href="#range-vec"><strong>range-vec</strong></a></h3>
<h3 id="raw-write"><a class="header" href="#raw-write"><strong>raw-write</strong></a></h3>
<h3 id="raw-write-char"><a class="header" href="#raw-write-char"><strong>raw-write-char</strong></a></h3>
<h3 id="raw-write-string"><a class="header" href="#raw-write-string"><strong>raw-write-string</strong></a></h3>
<h3 id="read"><a class="header" href="#read"><strong>read!</strong></a></h3>
<h3 id="read-line-from-port"><a class="header" href="#read-line-from-port"><strong>read-line-from-port</strong></a></h3>
<h3 id="read-to-string"><a class="header" href="#read-to-string"><strong>read-to-string</strong></a></h3>
<h3 id="real"><a class="header" href="#real"><strong>real?</strong></a></h3>
<h3 id="round"><a class="header" href="#round"><strong>round</strong></a></h3>
<h3 id="run"><a class="header" href="#run"><strong>run!</strong></a></h3>
<h3 id="set-current-dir"><a class="header" href="#set-current-dir"><strong>set-current-dir!</strong></a></h3>
<h3 id="set-env-var"><a class="header" href="#set-env-var"><strong>set-env-var!</strong></a></h3>
<h3 id="set-piped-stdout"><a class="header" href="#set-piped-stdout"><strong>set-piped-stdout!</strong></a></h3>
<h3 id="set-strong-box"><a class="header" href="#set-strong-box"><strong>set-strong-box!</strong></a></h3>
<h3 id="set-test-mode"><a class="header" href="#set-test-mode"><strong>set-test-mode!</strong></a></h3>
<h3 id="set"><a class="header" href="#set"><strong>set?</strong></a></h3>
<h3 id="spawn-process"><a class="header" href="#spawn-process"><strong>spawn-process</strong></a></h3>
<h3 id="spawn-thread"><a class="header" href="#spawn-thread"><strong>spawn-thread!</strong></a></h3>
<h3 id="split-many"><a class="header" href="#split-many"><strong>split-many</strong></a></h3>
<h3 id="split-once"><a class="header" href="#split-once"><strong>split-once</strong></a></h3>
<h3 id="square"><a class="header" href="#square"><strong>square</strong></a></h3>
<h3 id="stdout"><a class="header" href="#stdout"><strong>stdout</strong></a></h3>
<h3 id="stdout-simple-displayln"><a class="header" href="#stdout-simple-displayln"><strong>stdout-simple-displayln</strong></a></h3>
<h3 id="stream-car"><a class="header" href="#stream-car"><strong>stream-car</strong></a></h3>
<h3 id="stream-cons"><a class="header" href="#stream-cons"><strong>stream-cons</strong></a></h3>
<h3 id="stream-empty"><a class="header" href="#stream-empty"><strong>stream-empty?</strong></a></h3>
<h3 id="string-jsexpr"><a class="header" href="#string-jsexpr"><strong>string-&gt;jsexpr</strong></a></h3>
<h3 id="string-ci"><a class="header" href="#string-ci"><strong>string-ci&lt;=?</strong></a></h3>
<h3 id="string-ci-1"><a class="header" href="#string-ci-1"><strong>string-ci&lt;?</strong></a></h3>
<h3 id="string-ci-2"><a class="header" href="#string-ci-2"><strong>string-ci=?</strong></a></h3>
<h3 id="string-ci-3"><a class="header" href="#string-ci-3"><strong>string-ci&gt;=?</strong></a></h3>
<h3 id="string-ci-4"><a class="header" href="#string-ci-4"><strong>string-ci&gt;?</strong></a></h3>
<h3 id="string-ref"><a class="header" href="#string-ref"><strong>string-ref</strong></a></h3>
<h3 id="string-replace"><a class="header" href="#string-replace"><strong>string-replace</strong></a></h3>
<h3 id="string-1"><a class="header" href="#string-1"><strong>string&lt;=?</strong></a></h3>
<h3 id="string-2"><a class="header" href="#string-2"><strong>string&lt;?</strong></a></h3>
<h3 id="string-3"><a class="header" href="#string-3"><strong>string=?</strong></a></h3>
<h3 id="string-4"><a class="header" href="#string-4"><strong>string&gt;=?</strong></a></h3>
<h3 id="string-5"><a class="header" href="#string-5"><strong>string&gt;?</strong></a></h3>
<h3 id="string-6"><a class="header" href="#string-6"><strong>string?</strong></a></h3>
<h3 id="struct-list"><a class="header" href="#struct-list"><strong>struct-&gt;list</strong></a></h3>
<h3 id="struct-1"><a class="header" href="#struct-1"><strong>struct?</strong></a></h3>
<h3 id="substring"><a class="header" href="#substring"><strong>substring</strong></a></h3>
<h3 id="symbol-string"><a class="header" href="#symbol-string"><strong>symbol-&gt;string</strong></a></h3>
<h3 id="symbol"><a class="header" href="#symbol"><strong>symbol?</strong></a></h3>
<h3 id="syntax-datum"><a class="header" href="#syntax-datum"><strong>syntax-&gt;datum</strong></a></h3>
<h3 id="syntax-e"><a class="header" href="#syntax-e"><strong>syntax-e</strong></a></h3>
<h3 id="syntax-loc"><a class="header" href="#syntax-loc"><strong>syntax-loc</strong></a></h3>
<h3 id="syntax-span"><a class="header" href="#syntax-span"><strong>syntax-span</strong></a></h3>
<h3 id="syntaxloc"><a class="header" href="#syntaxloc"><strong>syntax/loc</strong></a></h3>
<h3 id="syntax-1"><a class="header" href="#syntax-1"><strong>syntax?</strong></a></h3>
<h3 id="taking"><a class="header" href="#taking"><strong>taking</strong></a></h3>
<h3 id="thread-finished"><a class="header" href="#thread-finished"><strong>thread-finished?</strong></a></h3>
<h3 id="thread-join"><a class="header" href="#thread-join"><strong>thread-join!</strong></a></h3>
<h3 id="threadcurrentid"><a class="header" href="#threadcurrentid"><strong>thread::current/id</strong></a></h3>
<h3 id="timesleep-ms"><a class="header" href="#timesleep-ms"><strong>time/sleep-ms</strong></a></h3>
<h3 id="transduce"><a class="header" href="#transduce"><strong>transduce</strong></a></h3>
<h3 id="try-list-ref"><a class="header" href="#try-list-ref"><strong>try-list-ref</strong></a></h3>
<h3 id="unbox-strong"><a class="header" href="#unbox-strong"><strong>unbox-strong</strong></a></h3>
<h3 id="value-iterator"><a class="header" href="#value-iterator"><strong>value-&gt;iterator</strong></a></h3>
<h3 id="value-jsexpr-string"><a class="header" href="#value-jsexpr-string"><strong>value-&gt;jsexpr-string</strong></a></h3>
<h3 id="value-string"><a class="header" href="#value-string"><strong>value-&gt;string</strong></a></h3>
<h3 id="vec-append"><a class="header" href="#vec-append"><strong>vec-append</strong></a></h3>
<h3 id="vec-rest"><a class="header" href="#vec-rest"><strong>vec-rest</strong></a></h3>
<h3 id="vector"><a class="header" href="#vector"><strong>vector</strong></a></h3>
<h3 id="vector-append"><a class="header" href="#vector-append"><strong>vector-append!</strong></a></h3>
<h3 id="vector-length"><a class="header" href="#vector-length"><strong>vector-length</strong></a></h3>
<h3 id="vector-push"><a class="header" href="#vector-push"><strong>vector-push!</strong></a></h3>
<h3 id="vector-ref"><a class="header" href="#vector-ref"><strong>vector-ref</strong></a></h3>
<h3 id="vector-set"><a class="header" href="#vector-set"><strong>vector-set!</strong></a></h3>
<h3 id="vector-1"><a class="header" href="#vector-1"><strong>vector?</strong></a></h3>
<h3 id="void"><a class="header" href="#void"><strong>void</strong></a></h3>
<h3 id="void-1"><a class="header" href="#void-1"><strong>void?</strong></a></h3>
<h3 id="wait"><a class="header" href="#wait"><strong>wait</strong></a></h3>
<h3 id="wait-stdout"><a class="header" href="#wait-stdout"><strong>wait-&gt;stdout</strong></a></h3>
<h3 id="which"><a class="header" href="#which"><strong>which</strong></a></h3>
<h3 id="write-line"><a class="header" href="#write-line"><strong>write-line!</strong></a></h3>
<h3 id="zipping"><a class="header" href="#zipping"><strong>zipping</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelbytevectors"><a class="header" href="#steelbytevectors">steel/bytevectors</a></h1>
<h3 id="byte-1"><a class="header" href="#byte-1"><strong>byte?</strong></a></h3>
<p>Returns #t if the given value is a byte, meaning an exact
integer between 0 and 255 inclusive, #f otherwise.</p>
<h4 id="examples-113"><a class="header" href="#examples-113">Examples</a></h4>
<pre><code class="language-scheme">(byte? 65) ;; =&gt; #t
(byte? 0) ;; =&gt; #t
(byte? 256) ;; =&gt; #f
(byte? 100000) ;; =&gt; #f
(byte? -1) ;; =&gt; #f
</code></pre>
<h3 id="bytes-2"><a class="header" href="#bytes-2"><strong>bytes</strong></a></h3>
<p>Returns a new mutable vector vectors with each byte as the given arguments.
Each argument must satisfy the <code>byte?</code> predicate, meaning it is an exact
integer range from 0 - 255 (inclusive)</p>
<p>(bytes b ...)</p>
<p>b : byte?</p>
<h4 id="example-5"><a class="header" href="#example-5">Example</a></h4>
<pre><code class="language-scheme">(bytes 65 112 112 108 101)
</code></pre>
<h3 id="bytes-list-1"><a class="header" href="#bytes-list-1"><strong>bytes-&gt;list</strong></a></h3>
<p>Converts the bytevector to the equivalent list representation.</p>
<h4 id="examples-114"><a class="header" href="#examples-114">Examples</a></h4>
<pre><code class="language-scheme">(bytes-&gt;list (bytes 0 1 2 3 4 5)) ;; =&gt; '(0 1 2 3 4 5)
</code></pre>
<h3 id="bytes-append-1"><a class="header" href="#bytes-append-1"><strong>bytes-append</strong></a></h3>
<p>Append two byte vectors into a new bytevector.</p>
<h4 id="examples-115"><a class="header" href="#examples-115">Examples</a></h4>
<pre><code class="language-scheme">(bytes-append (bytes 0 1 2) (bytes 3 4 5)) ;; (bytes 0 1 2 3 4 5)
</code></pre>
<h3 id="bytes-length-1"><a class="header" href="#bytes-length-1"><strong>bytes-length</strong></a></h3>
<p>Returns the length of the given byte vector</p>
<h4 id="examples-116"><a class="header" href="#examples-116">Examples</a></h4>
<pre><code class="language-scheme">(bytes-length (bytes 1 2 3 4 5)) ;; =&gt; 5
</code></pre>
<h3 id="bytes-ref-1"><a class="header" href="#bytes-ref-1"><strong>bytes-ref</strong></a></h3>
<p>Fetches the byte at the given index within the bytevector.
If the index is out of bounds, this will error.</p>
<p>(bytes-ref vector index)</p>
<p>vector : bytes?
index: (and exact? int?)</p>
<h4 id="examples-117"><a class="header" href="#examples-117">Examples</a></h4>
<pre><code class="language-scheme">(bytes-ref (bytes 0 1 2 3 4 5) 3) ;; =&gt; 4
(bytes-ref (bytes) 10) ;; error
</code></pre>
<h3 id="bytes-set-1"><a class="header" href="#bytes-set-1"><strong>bytes-set!</strong></a></h3>
<p>Sets the byte at the given index to the given byte. Will error
if the index is out of bounds.</p>
<p>(bytes-set! vector index byte)</p>
<p>vector : bytes?
index: (and exact? int?)
byte: byte?</p>
<h4 id="examples-118"><a class="header" href="#examples-118">Examples</a></h4>
<pre><code class="language-scheme">(define my-bytes (bytes 0 1 2 3 4 5))
(bytes-set! my-bytes 0 100)
(bytes-ref my-bytes 0) ;; =&gt; 100
</code></pre>
<h3 id="bytes-3"><a class="header" href="#bytes-3"><strong>bytes?</strong></a></h3>
<p>Returns <code>#t</code> if this value is a bytevector</p>
<h4 id="examples-119"><a class="header" href="#examples-119">Examples</a></h4>
<pre><code class="language-scheme">(bytes? (bytes 0 1 2)) ;; =&gt; #t
(bytes? (list 10 20 30)) ;; =&gt; #f
</code></pre>
<h3 id="bytevector-1"><a class="header" href="#bytevector-1"><strong>bytevector</strong></a></h3>
<p>Returns a new mutable vector vectors with each byte as the given arguments.
Each argument must satisfy the <code>byte?</code> predicate, meaning it is an exact
integer range from 0 - 255 (inclusive)</p>
<p>(bytevector b ...)</p>
<p>b : byte?</p>
<h4 id="example-6"><a class="header" href="#example-6">Example</a></h4>
<pre><code class="language-scheme">(bytevector 65 112 112 108 101)
</code></pre>
<h3 id="list-bytes-1"><a class="header" href="#list-bytes-1"><strong>list-&gt;bytes</strong></a></h3>
<p>Converts the list of bytes to the equivalent bytevector representation.
The list must contain <em>only</em> values which satisfy the <code>byte?</code> predicate,
otherwise this function will error.</p>
<h4 id="examples-120"><a class="header" href="#examples-120">Examples</a></h4>
<pre><code class="language-scheme">(list-&gt;bytes (list 0 1 2 3 4 5)) ;; =&gt; (bytes 0 1 2 3 4 5)
</code></pre>
<h3 id="string-bytes-1"><a class="header" href="#string-bytes-1"><strong>string-&gt;bytes</strong></a></h3>
<p>Converts the given string to a bytevector</p>
<h4 id="examples-121"><a class="header" href="#examples-121">Examples</a></h4>
<pre><code class="language-scheme">(string-&gt;bytes "Apple") ;; =&gt; (bytes 65 112 112 108 101)
</code></pre>
<h3 id="bytevector-copy-1"><a class="header" href="#bytevector-copy-1"><strong>bytevector-copy</strong></a></h3>
<h3 id="make-bytes-1"><a class="header" href="#make-bytes-1"><strong>make-bytes</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelconstants-1"><a class="header" href="#steelconstants-1">steel/constants</a></h1>
<h3 id="void-2"><a class="header" href="#void-2"><strong>void</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelcoreoption-1"><a class="header" href="#steelcoreoption-1">steel/core/option</a></h1>
<h3 id="none-2"><a class="header" href="#none-2"><strong>None</strong></a></h3>
<h3 id="none-3"><a class="header" href="#none-3"><strong>None?</strong></a></h3>
<h3 id="some-2"><a class="header" href="#some-2"><strong>Some</strong></a></h3>
<h3 id="some-value-1"><a class="header" href="#some-value-1"><strong>Some-&gt;value</strong></a></h3>
<h3 id="some-3"><a class="header" href="#some-3"><strong>Some?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelcoreresult-1"><a class="header" href="#steelcoreresult-1">steel/core/result</a></h1>
<h3 id="err-2"><a class="header" href="#err-2"><strong>Err</strong></a></h3>
<h3 id="err-value-1"><a class="header" href="#err-value-1"><strong>Err-&gt;value</strong></a></h3>
<h3 id="err-3"><a class="header" href="#err-3"><strong>Err?</strong></a></h3>
<h3 id="ok-2"><a class="header" href="#ok-2"><strong>Ok</strong></a></h3>
<h3 id="ok-value-1"><a class="header" href="#ok-value-1"><strong>Ok-&gt;value</strong></a></h3>
<h3 id="ok-3"><a class="header" href="#ok-3"><strong>Ok?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelcoretypes"><a class="header" href="#steelcoretypes">steel/core/types</a></h1>
<h3 id="vtable-update-entry-1"><a class="header" href="#vtable-update-entry-1"><strong>#%vtable-update-entry!</strong></a></h3>
<h3 id="typeid-1"><a class="header" href="#typeid-1"><strong>TypeId?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelequality-1"><a class="header" href="#steelequality-1">steel/equality</a></h1>
<h3 id="-8"><a class="header" href="#-8"><strong>=</strong></a></h3>
<h3 id="eq-1"><a class="header" href="#eq-1"><strong>eq?</strong></a></h3>
<h3 id="equal-1"><a class="header" href="#equal-1"><strong>equal?</strong></a></h3>
<h3 id="eqv-1"><a class="header" href="#eqv-1"><strong>eqv?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelfilesystem-1"><a class="header" href="#steelfilesystem-1">steel/filesystem</a></h1>
<h4 id="steelfilesystem-2"><a class="header" href="#steelfilesystem-2">steel/filesystem</a></h4>
<p>Filesystem functions, mostly just thin wrappers around the <code>std::fs</code> functions in
the Rust std library.</p>
<h3 id="copy-directory-recursively-1"><a class="header" href="#copy-directory-recursively-1"><strong>copy-directory-recursively!</strong></a></h3>
<p>Recursively copies the directory from source to destination</p>
<h3 id="create-directory-1"><a class="header" href="#create-directory-1"><strong>create-directory!</strong></a></h3>
<p>Creates the directory</p>
<h3 id="current-directory-1"><a class="header" href="#current-directory-1"><strong>current-directory</strong></a></h3>
<p>Check the current working directory</p>
<h3 id="delete-directory-1"><a class="header" href="#delete-directory-1"><strong>delete-directory!</strong></a></h3>
<p>Deletes the directory</p>
<h3 id="file-name-1"><a class="header" href="#file-name-1"><strong>file-name</strong></a></h3>
<p>Gets the filename for a given path</p>
<h3 id="canonicalize-path"><a class="header" href="#canonicalize-path"><strong>canonicalize-path</strong></a></h3>
<p>Returns canonical path with all components normalized</p>
<h3 id="is-dir-1"><a class="header" href="#is-dir-1"><strong>is-dir?</strong></a></h3>
<p>Checks if a path is a directory</p>
<h3 id="is-file-1"><a class="header" href="#is-file-1"><strong>is-file?</strong></a></h3>
<p>Checks if a path is a file</p>
<h3 id="path-extension-1"><a class="header" href="#path-extension-1"><strong>path-&gt;extension</strong></a></h3>
<p>Gets the extension from a path</p>
<h3 id="path-exists-1"><a class="header" href="#path-exists-1"><strong>path-exists?</strong></a></h3>
<p>Checks if a path exists</p>
<h3 id="read-dir-1"><a class="header" href="#read-dir-1"><strong>read-dir</strong></a></h3>
<p>Returns the contents of the directory as a list</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelhash-1"><a class="header" href="#steelhash-1">steel/hash</a></h1>
<h3 id="hash-2"><a class="header" href="#hash-2"><strong>hash</strong></a></h3>
<p>Creates an immutable hash table with each given <code>key</code> mapped to the following <code>val</code>.
Each key must have a val, so the total number of arguments must be even.</p>
<p>(hash key val ...) -&gt; hash?</p>
<p>key : hashable?
val : any/c</p>
<p>Note: the keys must be hashable.</p>
<h4 id="examples-122"><a class="header" href="#examples-122">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash 'a 10 'b 20)",
r#"=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
}&gt;"#,
</code></pre>
<h3 id="hash-clear-1"><a class="header" href="#hash-clear-1"><strong>hash-clear</strong></a></h3>
<p>Clears the entries out of the existing hashmap.
Will attempt to reuse the existing memory if there are no other references
to the hashmap.</p>
<p>(hash-clear h) -&gt; hash?</p>
<p>h: hash?</p>
<h4 id="examples-123"><a class="header" href="#examples-123">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-clear (hash 'a 10 'b 20))
=&gt; '#hash()
</code></pre>
<h3 id="hash-contains-3"><a class="header" href="#hash-contains-3"><strong>hash-contains?</strong></a></h3>
<p>Checks whether the given map contains the given key. Key must be hashable.</p>
<p>(hash-contains? map key) -&gt; bool?</p>
<ul>
<li>map : hash?</li>
<li>key : hashable?</li>
</ul>
<h4 id="example-7"><a class="header" href="#example-7">Example</a></h4>
<pre><code class="language-scheme">&gt; (hash-contains? (hash 'a 10 'b 20) 'a) ;; =&gt; #true
&gt; (hash-contains? (hash 'a 10 'b 20) 'not-there) ;; =&gt; #false
</code></pre>
<h3 id="hash-empty-1"><a class="header" href="#hash-empty-1"><strong>hash-empty?</strong></a></h3>
<p>Checks whether the hash map is empty</p>
<p>(hash-empty? m) -&gt; bool?</p>
<p>m: hash?</p>
<h4 id="examples-124"><a class="header" href="#examples-124">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-empty? (hash 'a 10)) ;; =&gt; #f
&gt; (hash-emptY? (hash)) ;; =&gt; #true
</code></pre>
<h3 id="hash-insert-3"><a class="header" href="#hash-insert-3"><strong>hash-insert</strong></a></h3>
<p>Returns a new hashmap with the additional key value pair added. Performs a functional update,
so the old hash map is still accessible.</p>
<p>(hash-insert map key val) -&gt; hash?</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
<li>val : any/c</li>
</ul>
<h4 id="examples-125"><a class="header" href="#examples-125">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-insert (hash 'a 10 'b 20) 'c 30)

=&gt; #&lt;hashmap {
'a: 10,
'b: 20,
'c: 30
}&gt;
</code></pre>
<h3 id="hash-keys-list-1"><a class="header" href="#hash-keys-list-1"><strong>hash-keys-&gt;list</strong></a></h3>
<p>Returns the keys of the given hash map as a list.</p>
<pre><code class="language-scheme">(hash-keys-&gt;list map) -&gt; (listof hashable?)
</code></pre>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-126"><a class="header" href="#examples-126">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;list? (hash 'a 'b 20)) ;; =&gt; '(a b)
</code></pre>
<h3 id="hash-keys-vector-1"><a class="header" href="#hash-keys-vector-1"><strong>hash-keys-&gt;vector</strong></a></h3>
<p>Returns the keys of the given hash map as an immutable vector</p>
<p>(hash-keys-&gt;vector map) -&gt; (vectorof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-127"><a class="header" href="#examples-127">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;vector (hash 'a 10 'b 20)),
=&gt; ['a 'b]",
</code></pre>
<h3 id="hash-length-3"><a class="header" href="#hash-length-3"><strong>hash-length</strong></a></h3>
<p>Returns the number of key value pairs in the map</p>
<p>(hash-length map) -&gt; (and positive? int?)</p>
<ul>
<li>map : hash?</li>
</ul>
<h4 id="examples-128"><a class="header" href="#examples-128">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-length (hash 'a 10 'b 20)) ;; =&gt; 2
</code></pre>
<h3 id="hash-ref-3"><a class="header" href="#hash-ref-3"><strong>hash-ref</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Raises an error if the key does not exist. <code>hash-get</code> is an alias for this.</p>
<p>(hash-ref map key) -&gt; any/c</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-129"><a class="header" href="#examples-129">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-ref (hash 'a 10 'b 20) 'b) ;; =&gt; 20
</code></pre>
<h3 id="hash-try-get-3"><a class="header" href="#hash-try-get-3"><strong>hash-try-get</strong></a></h3>
<p>Gets the <code>key</code> from the given <code>map</code>. Returns #false if the key does not exist.</p>
<p>(hash-try-get map key) -&gt; (or any/c #false)</p>
<ul>
<li>map : hash?</li>
<li>key : any/c</li>
</ul>
<h4 id="examples-130"><a class="header" href="#examples-130">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-try-get (hash 'a 10 'b 20) 'b) ;; =&gt; 20
&gt; (hash-try-get (hash 'a 10 'b 20) 'does-not-exist) ;; =&gt; #false
</code></pre>
<h3 id="hash-union-1"><a class="header" href="#hash-union-1"><strong>hash-union</strong></a></h3>
<p>Constructs the union of two hashmaps, keeping the values
in the left map when the keys exist in both maps.</p>
<p>Will reuse memory where possible.</p>
<p>(hash-union l r) -&gt; hash?</p>
<h4 id="examples-131"><a class="header" href="#examples-131">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-union (hash 'a 10) (hash 'b 20)) ;; =&gt; '#hash((a . 10) (b . 20))
</code></pre>
<h3 id="hash-values-list-1"><a class="header" href="#hash-values-list-1"><strong>hash-values-&gt;list</strong></a></h3>
<p>Returns the values of the given hash map as a list</p>
<p>(hash-values-&gt;list? map) -&gt; (listof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-132"><a class="header" href="#examples-132">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-values-&gt;list? (hash 'a 10 'b 20)),
=&gt; '(10 20)",
</code></pre>
<h3 id="hash-values-vector-1"><a class="header" href="#hash-values-vector-1"><strong>hash-values-&gt;vector</strong></a></h3>
<p>Returns the values of the given hash map as an immutable vector</p>
<p>(hash-values-&gt;vector map) -&gt; (vectorof any/c)?</p>
<p>map: hash?</p>
<h4 id="examples-133"><a class="header" href="#examples-133">Examples</a></h4>
<pre><code class="language-scheme">&gt; (hash-keys-&gt;vector (hash 'a 10 'b 20)),
=&gt; [10 10]",
</code></pre>
<h3 id="keyword-hash-1"><a class="header" href="#keyword-hash-1"><strong>%keyword-hash</strong></a></h3>
<h3 id="hash-get-1"><a class="header" href="#hash-get-1"><strong>hash-get</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelidentity-1"><a class="header" href="#steelidentity-1">steel/identity</a></h1>
<h3 id="rational-1"><a class="header" href="#rational-1"><strong>rational?</strong></a></h3>
<p>Returns #t if obj is a rational number, #f otherwise.
Rational numbers are numbers that can be expressed as the quotient of two numbers.
For example, 3/4, -5/2, 0.25, and 0 are rational numbers, while</p>
<p>(rational? value) -&gt; bool?</p>
<p>Examples:</p>
<pre><code class="language-scheme">(rational? (/ 0.0)) ⇒ #f
(rational? 3.5)     ⇒ #t
(rational? 6/10)    ⇒ #t
(rational? 6/3)     ⇒ #t
</code></pre>
<h3 id="private-struct-1"><a class="header" href="#private-struct-1"><strong>#%private-struct?</strong></a></h3>
<h3 id="atom-1"><a class="header" href="#atom-1"><strong>atom?</strong></a></h3>
<h3 id="bool-1"><a class="header" href="#bool-1"><strong>bool?</strong></a></h3>
<h3 id="boolean-1"><a class="header" href="#boolean-1"><strong>boolean?</strong></a></h3>
<h3 id="char-2"><a class="header" href="#char-2"><strong>char?</strong></a></h3>
<h3 id="complex-1"><a class="header" href="#complex-1"><strong>complex?</strong></a></h3>
<h3 id="continuation-1"><a class="header" href="#continuation-1"><strong>continuation?</strong></a></h3>
<h3 id="exact-integer-1"><a class="header" href="#exact-integer-1"><strong>exact-integer?</strong></a></h3>
<h3 id="float-1"><a class="header" href="#float-1"><strong>float?</strong></a></h3>
<h3 id="function-1"><a class="header" href="#function-1"><strong>function?</strong></a></h3>
<h3 id="future-1"><a class="header" href="#future-1"><strong>future?</strong></a></h3>
<h3 id="hash-3"><a class="header" href="#hash-3"><strong>hash?</strong></a></h3>
<h3 id="int-1"><a class="header" href="#int-1"><strong>int?</strong></a></h3>
<h3 id="integer-1"><a class="header" href="#integer-1"><strong>integer?</strong></a></h3>
<h3 id="list-4"><a class="header" href="#list-4"><strong>list?</strong></a></h3>
<h3 id="mutable-vector-3"><a class="header" href="#mutable-vector-3"><strong>mutable-vector?</strong></a></h3>
<h3 id="not-1"><a class="header" href="#not-1"><strong>not</strong></a></h3>
<h3 id="number-1"><a class="header" href="#number-1"><strong>number?</strong></a></h3>
<h3 id="procedure-1"><a class="header" href="#procedure-1"><strong>procedure?</strong></a></h3>
<h3 id="real-1"><a class="header" href="#real-1"><strong>real?</strong></a></h3>
<h3 id="set-1"><a class="header" href="#set-1"><strong>set?</strong></a></h3>
<h3 id="string-7"><a class="header" href="#string-7"><strong>string?</strong></a></h3>
<h3 id="struct-2"><a class="header" href="#struct-2"><strong>struct?</strong></a></h3>
<h3 id="symbol-1"><a class="header" href="#symbol-1"><strong>symbol?</strong></a></h3>
<h3 id="vector-2"><a class="header" href="#vector-2"><strong>vector?</strong></a></h3>
<h3 id="void-3"><a class="header" href="#void-3"><strong>void?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelio-1"><a class="header" href="#steelio-1">steel/io</a></h1>
<h3 id="read-to-string-1"><a class="header" href="#read-to-string-1"><strong>read-to-string</strong></a></h3>
<h3 id="stdout-simple-displayln-1"><a class="header" href="#stdout-simple-displayln-1"><strong>stdout-simple-displayln</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelimmutable-vectors"><a class="header" href="#steelimmutable-vectors">steel/immutable-vectors</a></h1>
<h3 id="immutable-vector-push"><a class="header" href="#immutable-vector-push"><strong>immutable-vector-push</strong></a></h3>
<p>Pushes a value to the back of the vector, returning a new vector.</p>
<h3 id="immutable-vector-drop"><a class="header" href="#immutable-vector-drop"><strong>immutable-vector-drop</strong></a></h3>
<h3 id="immutable-vector-rest"><a class="header" href="#immutable-vector-rest"><strong>immutable-vector-rest</strong></a></h3>
<h3 id="immutable-vector-set"><a class="header" href="#immutable-vector-set"><strong>immutable-vector-set</strong></a></h3>
<h3 id="immutable-vector-take"><a class="header" href="#immutable-vector-take"><strong>immutable-vector-take</strong></a></h3>
<h3 id="vector-push-front"><a class="header" href="#vector-push-front"><strong>vector-push-front</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steeljson-1"><a class="header" href="#steeljson-1">steel/json</a></h1>
<h3 id="string-jsexpr-1"><a class="header" href="#string-jsexpr-1"><strong>string-&gt;jsexpr</strong></a></h3>
<h3 id="value-jsexpr-string-1"><a class="header" href="#value-jsexpr-string-1"><strong>value-&gt;jsexpr-string</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steellists-5"><a class="header" href="#steellists-5">steel/lists</a></h1>
<h4 id="steellists-6"><a class="header" href="#steellists-6">steel/lists</a></h4>
<p>Lists in Steel have an interface that matches those of classic schemes or lisps.
At face value, they appear to be implemented as cons cells - however, under the hood
they are actually implemented as unrolled linked lists.</p>
<p>This means that for most practical purposes, interaction with lists is the same.
That being said, there are no improper lists, meaning, pairs are actually just lists of two elements.</p>
<p>Indexing into a list also takes O(n/64) - which means you'll get constant time indexing on small lists.</p>
<pre><code class="language-scheme">(list 10 20 30 40) ;; =&gt; '(10 20 30 40)
</code></pre>
<h3 id="car-3"><a class="header" href="#car-3"><strong>car</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(car l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-134"><a class="header" href="#examples-134">Examples</a></h4>
<pre><code class="language-scheme">&gt; (car '(1 2)) ;; =&gt; 1
&gt; (car (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="empty-3"><a class="header" href="#empty-3"><strong>empty?</strong></a></h3>
<p>Checks if the list is empty</p>
<p>(empty? lst) -&gt; bool?</p>
<ul>
<li>lst: list?</li>
</ul>
<h4 id="examples-135"><a class="header" href="#examples-135">Examples</a></h4>
<pre><code class="language-scheme">&gt; (empty? (list 1 2 3 4 5)) ;; =&gt; #false
&gt; (empty? '()) ;; =&gt; #true
</code></pre>
<h3 id="first-3"><a class="header" href="#first-3"><strong>first</strong></a></h3>
<p>Returns the first element of the list l.</p>
<p>(first l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-136"><a class="header" href="#examples-136">Examples</a></h4>
<pre><code class="language-scheme">&gt; (first '(1 2)) ;; =&gt; 1
&gt; (first (cons 2 3)) ;; =&gt; 2
</code></pre>
<h3 id="length-1"><a class="header" href="#length-1"><strong>length</strong></a></h3>
<p>Returns the length of the list.</p>
<p>(length l) -&gt; int?</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-137"><a class="header" href="#examples-137">Examples</a></h4>
<pre><code class="language-scheme">&gt; (length (list 10 20 30)) ;; =&gt; 3
</code></pre>
<h3 id="list-5"><a class="header" href="#list-5"><strong>list</strong></a></h3>
<p>Returns a newly allocated list containing the vs as its elements.</p>
<p>(list v ...) -&gt; list?</p>
<ul>
<li>v : any/c</li>
</ul>
<h4 id="examples-138"><a class="header" href="#examples-138">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list 1 2 3 4 5) ;; =&gt; '(1 2 3 4 5)
&gt; (list (list 1 2) (list 3 4)) ;; =&gt; '((1 2) (3 4))
</code></pre>
<h3 id="list-ref-2"><a class="header" href="#list-ref-2"><strong>list-ref</strong></a></h3>
<p>Returns the value located at the given index. Will raise an error if you try to index out of bounds.</p>
<p>Note: Runs in time proportional to the length of the list, however lists in Steel are implemented in such a fashion that the
time complexity is O(n/64). Meaning, for small lists this can be constant.</p>
<p>(list-ref lst index) -&gt; list?</p>
<ul>
<li>lst : list?</li>
<li>index : (and/c int? positive?)</li>
</ul>
<h4 id="examples-139"><a class="header" href="#examples-139">Examples</a></h4>
<pre><code class="language-scheme">&gt; (list-ref (list 1 2 3 4) 2) ;; =&gt; 3
&gt; (list-ref (range 0 100) 42) ;; =&gt; 42"
&gt; (list-ref (list 1 2 3 4) 10)
error[E11]: Generic
┌─ :1:2
│
1 │ (list-ref (list 1 2 3 4) 10)
│  ^^^^^^^^ out of bounds index in list-ref - list length: 4, index: 10
</code></pre>
<h3 id="pair-3"><a class="header" href="#pair-3"><strong>pair?</strong></a></h3>
<p>Checks if the given value can be treated as a pair.
Note - there are no improper lists in steel, so any list with at least one element
is considered a pair.</p>
<p>(pair? any/c) -&gt; bool?</p>
<h4 id="examples-140"><a class="header" href="#examples-140">Examples</a></h4>
<pre><code class="language-scheme">&gt; (pair? '(10 20)) ;; =&gt; #true
&gt; (pair? '(10)) ;; =&gt; #true
&gt; (pair? '()) ;; =&gt; #false
</code></pre>
<h3 id="range-3"><a class="header" href="#range-3"><strong>range</strong></a></h3>
<p>Returns a newly allocated list of the elements in the range (n, m]</p>
<p>(range n m) -&gt; (listof int?)</p>
<ul>
<li>n : int?</li>
<li>m : int?</li>
</ul>
<pre><code class="language-scheme">&gt; (range 0 10) ;; =&gt; '(0 1 2 3 4 5 6 7 8 9)
</code></pre>
<h3 id="second-3"><a class="header" href="#second-3"><strong>second</strong></a></h3>
<p>Get the second element of the list. Raises an error if the list does not have an element in the second position.</p>
<p>(second l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-141"><a class="header" href="#examples-141">Examples</a></h4>
<pre><code class="language-scheme">&gt; (second '(1 2 3)) ;; =&gt; 2
&gt; (second '())
error[E11]: Generic
┌─ :1:2
│
1 │ (second '())
│  ^^^^^^ second: index out of bounds - list did not have an element in the second position: []
### **take**
Returns the first n elements of the list l as a new list.

(take l n) -&gt; list?

* l : list?
* n : (and/c positive? int?)

#### Examples

```scheme
&gt; (take '(1 2 3 4) 2) ;; =&gt; '(0 1)
&gt; (take (range 0 10) 4) ;; =&gt; '(0 1 2 3)
</code></pre>
<h3 id="third-3"><a class="header" href="#third-3"><strong>third</strong></a></h3>
<p>Get the third element of the list. Raises an error if the list does not have an element in the third position.</p>
<p>(third l) -&gt; any/c</p>
<ul>
<li>l : list?</li>
</ul>
<h4 id="examples-142"><a class="header" href="#examples-142">Examples</a></h4>
<pre><code class="language-scheme">&gt; (third '(1 2 3)) ;; =&gt; 3
&gt; (third '())
error[E11]: Generic
┌─ :1:2
│
1 │ (third '())
│  ^^^^^^ third: index out of bounds - list did not have an element in the second position: []
</code></pre>
<h3 id="cdr-null-1"><a class="header" href="#cdr-null-1"><strong>cdr-null?</strong></a></h3>
<h3 id="list-string-1"><a class="header" href="#list-string-1"><strong>list-&gt;string</strong></a></h3>
<h3 id="list-tail-1"><a class="header" href="#list-tail-1"><strong>list-tail</strong></a></h3>
<h3 id="push-back-1"><a class="header" href="#push-back-1"><strong>push-back</strong></a></h3>
<h3 id="transduce-1"><a class="header" href="#transduce-1"><strong>transduce</strong></a></h3>
<h3 id="try-list-ref-1"><a class="header" href="#try-list-ref-1"><strong>try-list-ref</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelmeta-1"><a class="header" href="#steelmeta-1">steel/meta</a></h1>
<h3 id="black-box-1"><a class="header" href="#black-box-1"><strong>#%black-box</strong></a></h3>
<h3 id="box-2"><a class="header" href="#box-2"><strong>#%box</strong></a></h3>
<h3 id="environment-length-1"><a class="header" href="#environment-length-1"><strong>#%environment-length</strong></a></h3>
<h3 id="function-ptr-table-1"><a class="header" href="#function-ptr-table-1"><strong>#%function-ptr-table</strong></a></h3>
<h3 id="function-ptr-table-add-1"><a class="header" href="#function-ptr-table-add-1"><strong>#%function-ptr-table-add</strong></a></h3>
<h3 id="function-ptr-table-get-1"><a class="header" href="#function-ptr-table-get-1"><strong>#%function-ptr-table-get</strong></a></h3>
<h3 id="get-dylib-1"><a class="header" href="#get-dylib-1"><strong>#%get-dylib</strong></a></h3>
<h3 id="iterator-finished-1"><a class="header" href="#iterator-finished-1"><strong>#%iterator-finished</strong></a></h3>
<h3 id="native-fn-ptr-doc-1"><a class="header" href="#native-fn-ptr-doc-1"><strong>#%native-fn-ptr-doc</strong></a></h3>
<h3 id="private-cycle-collector-1"><a class="header" href="#private-cycle-collector-1"><strong>#%private-cycle-collector</strong></a></h3>
<h3 id="private-cycle-collector-get-1"><a class="header" href="#private-cycle-collector-get-1"><strong>#%private-cycle-collector-get</strong></a></h3>
<h3 id="private-cycle-collector-values-1"><a class="header" href="#private-cycle-collector-values-1"><strong>#%private-cycle-collector-values</strong></a></h3>
<h3 id="set-box-1"><a class="header" href="#set-box-1"><strong>#%set-box!</strong></a></h3>
<h3 id="struct-property-ref-1"><a class="header" href="#struct-property-ref-1"><strong>#%struct-property-ref</strong></a></h3>
<h3 id="struct-update-1"><a class="header" href="#struct-update-1"><strong>#%struct-update</strong></a></h3>
<h3 id="unbox-1"><a class="header" href="#unbox-1"><strong>#%unbox</strong></a></h3>
<h3 id="iterator-1"><a class="header" href="#iterator-1"><strong>%iterator?</strong></a></h3>
<h3 id="engineadd-module-1"><a class="header" href="#engineadd-module-1"><strong>Engine::add-module</strong></a></h3>
<h3 id="engineclone-1"><a class="header" href="#engineclone-1"><strong>Engine::clone</strong></a></h3>
<h3 id="enginemodules-list-1"><a class="header" href="#enginemodules-list-1"><strong>Engine::modules-&gt;list</strong></a></h3>
<h3 id="enginenew-2"><a class="header" href="#enginenew-2"><strong>Engine::new</strong></a></h3>
<h3 id="engineraise_error-1"><a class="header" href="#engineraise_error-1"><strong>Engine::raise_error</strong></a></h3>
<h3 id="active-object-count-1"><a class="header" href="#active-object-count-1"><strong>active-object-count</strong></a></h3>
<h3 id="arity-1"><a class="header" href="#arity-1"><strong>arity?</strong></a></h3>
<h3 id="assert-1"><a class="header" href="#assert-1"><strong>assert!</strong></a></h3>
<h3 id="attach-contract-struct-1"><a class="header" href="#attach-contract-struct-1"><strong>attach-contract-struct!</strong></a></h3>
<h3 id="block-on-1"><a class="header" href="#block-on-1"><strong>block-on</strong></a></h3>
<h3 id="box-3"><a class="header" href="#box-3"><strong>box</strong></a></h3>
<h3 id="breakpoint-1"><a class="header" href="#breakpoint-1"><strong>breakpoint!</strong></a></h3>
<h3 id="call-with-current-continuation-1"><a class="header" href="#call-with-current-continuation-1"><strong>call-with-current-continuation</strong></a></h3>
<h3 id="call-with-exception-handler-1"><a class="header" href="#call-with-exception-handler-1"><strong>call-with-exception-handler</strong></a></h3>
<h3 id="callcc-1"><a class="header" href="#callcc-1"><strong>call/cc</strong></a></h3>
<h3 id="current-function-span-1"><a class="header" href="#current-function-span-1"><strong>current-function-span</strong></a></h3>
<h3 id="current-os-1"><a class="header" href="#current-os-1"><strong>current-os!</strong></a></h3>
<h3 id="env-var-1"><a class="header" href="#env-var-1"><strong>env-var</strong></a></h3>
<h3 id="error-with-span-1"><a class="header" href="#error-with-span-1"><strong>error-with-span</strong></a></h3>
<h3 id="eval-1"><a class="header" href="#eval-1"><strong>eval!</strong></a></h3>
<h3 id="expand-1"><a class="header" href="#expand-1"><strong>expand!</strong></a></h3>
<h3 id="function-name-1"><a class="header" href="#function-name-1"><strong>function-name</strong></a></h3>
<h3 id="get-contract-struct-1"><a class="header" href="#get-contract-struct-1"><strong>get-contract-struct</strong></a></h3>
<h3 id="get-test-mode-1"><a class="header" href="#get-test-mode-1"><strong>get-test-mode</strong></a></h3>
<h3 id="inspect-bytecode-1"><a class="header" href="#inspect-bytecode-1"><strong>inspect-bytecode</strong></a></h3>
<h3 id="iter-next-1"><a class="header" href="#iter-next-1"><strong>iter-next!</strong></a></h3>
<h3 id="join-1"><a class="header" href="#join-1"><strong>join!</strong></a></h3>
<h3 id="local-executorblock-on-1"><a class="header" href="#local-executorblock-on-1"><strong>local-executor/block-on</strong></a></h3>
<h3 id="make-struct-type-1"><a class="header" href="#make-struct-type-1"><strong>make-struct-type</strong></a></h3>
<h3 id="maybe-get-env-var-1"><a class="header" href="#maybe-get-env-var-1"><strong>maybe-get-env-var</strong></a></h3>
<h3 id="memory-address-1"><a class="header" href="#memory-address-1"><strong>memory-address</strong></a></h3>
<h3 id="multi-arity-1"><a class="header" href="#multi-arity-1"><strong>multi-arity?</strong></a></h3>
<h3 id="poll-1"><a class="header" href="#poll-1"><strong>poll!</strong></a></h3>
<h3 id="raise-error-1"><a class="header" href="#raise-error-1"><strong>raise-error</strong></a></h3>
<h3 id="raise-error-with-span-1"><a class="header" href="#raise-error-with-span-1"><strong>raise-error-with-span</strong></a></h3>
<h3 id="read-1"><a class="header" href="#read-1"><strong>read!</strong></a></h3>
<h3 id="run-1"><a class="header" href="#run-1"><strong>run!</strong></a></h3>
<h3 id="set-env-var-1"><a class="header" href="#set-env-var-1"><strong>set-env-var!</strong></a></h3>
<h3 id="set-strong-box-1"><a class="header" href="#set-strong-box-1"><strong>set-strong-box!</strong></a></h3>
<h3 id="set-test-mode-1"><a class="header" href="#set-test-mode-1"><strong>set-test-mode!</strong></a></h3>
<h3 id="struct-list-1"><a class="header" href="#struct-list-1"><strong>struct-&gt;list</strong></a></h3>
<h3 id="unbox-strong-1"><a class="header" href="#unbox-strong-1"><strong>unbox-strong</strong></a></h3>
<h3 id="value-iterator-1"><a class="header" href="#value-iterator-1"><strong>value-&gt;iterator</strong></a></h3>
<h3 id="value-string-1"><a class="header" href="#value-string-1"><strong>value-&gt;string</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelnumbers-1"><a class="header" href="#steelnumbers-1">steel/numbers</a></h1>
<h3 id="abs-1"><a class="header" href="#abs-1"><strong>abs</strong></a></h3>
<p>Returns the absolute value of the given input</p>
<h3 id="exp-1"><a class="header" href="#exp-1"><strong>exp</strong></a></h3>
<p>Returns Euler's number raised to the power of z.</p>
<h3 id="-9"><a class="header" href="#-9">*****</a></h3>
<h3 id="-10"><a class="header" href="#-10"><strong>+</strong></a></h3>
<h3 id="--1"><a class="header" href="#--1"><strong>-</strong></a></h3>
<h3 id="-11"><a class="header" href="#-11"><strong>/</strong></a></h3>
<h3 id="arithmetic-shift-1"><a class="header" href="#arithmetic-shift-1"><strong>arithmetic-shift</strong></a></h3>
<h3 id="ceiling-1"><a class="header" href="#ceiling-1"><strong>ceiling</strong></a></h3>
<h3 id="denominator-1"><a class="header" href="#denominator-1"><strong>denominator</strong></a></h3>
<h3 id="even-1"><a class="header" href="#even-1"><strong>even?</strong></a></h3>
<h3 id="exact-inexact-1"><a class="header" href="#exact-inexact-1"><strong>exact-&gt;inexact</strong></a></h3>
<h3 id="exact-1"><a class="header" href="#exact-1"><strong>exact?</strong></a></h3>
<h3 id="expt-1"><a class="header" href="#expt-1"><strong>expt</strong></a></h3>
<h3 id="f-1"><a class="header" href="#f-1"><strong>f+</strong></a></h3>
<h3 id="finite-1"><a class="header" href="#finite-1"><strong>finite?</strong></a></h3>
<h3 id="floor-1"><a class="header" href="#floor-1"><strong>floor</strong></a></h3>
<h3 id="inexact-exact-1"><a class="header" href="#inexact-exact-1"><strong>inexact-&gt;exact</strong></a></h3>
<h3 id="inexact-1"><a class="header" href="#inexact-1"><strong>inexact?</strong></a></h3>
<h3 id="infinite-1"><a class="header" href="#infinite-1"><strong>infinite?</strong></a></h3>
<h3 id="log-2"><a class="header" href="#log-2"><strong>log</strong></a></h3>
<h3 id="numerator-1"><a class="header" href="#numerator-1"><strong>numerator</strong></a></h3>
<h3 id="odd-1"><a class="header" href="#odd-1"><strong>odd?</strong></a></h3>
<h3 id="quotient-1"><a class="header" href="#quotient-1"><strong>quotient</strong></a></h3>
<h3 id="round-1"><a class="header" href="#round-1"><strong>round</strong></a></h3>
<h3 id="square-1"><a class="header" href="#square-1"><strong>square</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelord-1"><a class="header" href="#steelord-1">steel/ord</a></h1>
<h3 id="-12"><a class="header" href="#-12"><strong>&lt;</strong></a></h3>
<h3 id="-13"><a class="header" href="#-13"><strong>&lt;=</strong></a></h3>
<h3 id="-14"><a class="header" href="#-14"><strong>&gt;</strong></a></h3>
<h3 id="-15"><a class="header" href="#-15"><strong>&gt;=</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelports-1"><a class="header" href="#steelports-1">steel/ports</a></h1>
<h3 id="input-port-3"><a class="header" href="#input-port-3"><strong>input-port?</strong></a></h3>
<p>Checks if a given value is an input port</p>
<p>(input-port? any/c) -&gt; bool?</p>
<h4 id="examples-143"><a class="header" href="#examples-143">Examples</a></h4>
<pre><code class="language-scheme">&gt; (input-port? (stdin)) ;; =&gt; #true
&gt; (input-port? "foo") ;; =&gt; #false
</code></pre>
<h3 id="open-input-file-3"><a class="header" href="#open-input-file-3"><strong>open-input-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to an existing file and returns an input port. Raises an error
if the file does not exist</p>
<p>(open-input-file string?) -&gt; input-port?</p>
<h4 id="examples-144"><a class="header" href="#examples-144">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-input-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
&gt; (open-input-file "file-does-not-exist.txt")
error[E08]: Io
┌─ :1:2
│
1 │ (open-input-file "foo-bar.txt")
│  ^^^^^^^^^^^^^^^ No such file or directory (os error 2)
</code></pre>
<h3 id="open-output-file-3"><a class="header" href="#open-output-file-3"><strong>open-output-file</strong></a></h3>
<p>Takes a filename <code>path</code> referring to a file to be created and returns an output port.</p>
<p>(open-output-file string?) -&gt; output-port?</p>
<h4 id="examples-145"><a class="header" href="#examples-145">Examples</a></h4>
<pre><code class="language-scheme">&gt; (open-output-file "foo-bar.txt") ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="output-port-3"><a class="header" href="#output-port-3"><strong>output-port?</strong></a></h3>
<p>Checks if a given value is an output port</p>
<p>(output-port? any/c) -&gt; bool?</p>
<h4 id="examples-146"><a class="header" href="#examples-146">Examples</a></h4>
<pre><code class="language-scheme">&gt; (define output (open-output-file "foo.txt"))
&gt; (output-port? output) ;; =&gt; #true
</code></pre>
<h3 id="read-port-to-string-3"><a class="header" href="#read-port-to-string-3"><strong>read-port-to-string</strong></a></h3>
<p>Takes a port and reads the entire content into a string</p>
<p>(read-port-to-string port) -&gt; string?</p>
<ul>
<li>port : input-port?</li>
</ul>
<h3 id="stdin-3"><a class="header" href="#stdin-3"><strong>stdin</strong></a></h3>
<p>Gets the port handle to stdin</p>
<p>(stdin) -&gt; input-port?</p>
<h4 id="examples-147"><a class="header" href="#examples-147">Examples</a></h4>
<pre><code class="language-scheme">&gt; (stdin) ;; =&gt; #&lt;port&gt;
</code></pre>
<h3 id="default-input-port-1"><a class="header" href="#default-input-port-1"><strong>#%default-input-port</strong></a></h3>
<h3 id="default-output-port-1"><a class="header" href="#default-output-port-1"><strong>#%default-output-port</strong></a></h3>
<h3 id="flush-output-port-1"><a class="header" href="#flush-output-port-1"><strong>flush-output-port</strong></a></h3>
<h3 id="get-output-string-1"><a class="header" href="#get-output-string-1"><strong>get-output-string</strong></a></h3>
<h3 id="open-output-string-1"><a class="header" href="#open-output-string-1"><strong>open-output-string</strong></a></h3>
<h3 id="raw-write-1"><a class="header" href="#raw-write-1"><strong>raw-write</strong></a></h3>
<h3 id="raw-write-char-1"><a class="header" href="#raw-write-char-1"><strong>raw-write-char</strong></a></h3>
<h3 id="raw-write-string-1"><a class="header" href="#raw-write-string-1"><strong>raw-write-string</strong></a></h3>
<h3 id="read-line-from-port-1"><a class="header" href="#read-line-from-port-1"><strong>read-line-from-port</strong></a></h3>
<h3 id="stdout-1"><a class="header" href="#stdout-1"><strong>stdout</strong></a></h3>
<h3 id="write-line-1"><a class="header" href="#write-line-1"><strong>write-line!</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelprocess-1"><a class="header" href="#steelprocess-1">steel/process</a></h1>
<h3 id="child-stdin-1"><a class="header" href="#child-stdin-1"><strong>child-stdin</strong></a></h3>
<h3 id="child-stdout-1"><a class="header" href="#child-stdout-1"><strong>child-stdout</strong></a></h3>
<h3 id="command-1"><a class="header" href="#command-1"><strong>command</strong></a></h3>
<h3 id="set-current-dir-1"><a class="header" href="#set-current-dir-1"><strong>set-current-dir!</strong></a></h3>
<h3 id="set-piped-stdout-1"><a class="header" href="#set-piped-stdout-1"><strong>set-piped-stdout!</strong></a></h3>
<h3 id="spawn-process-1"><a class="header" href="#spawn-process-1"><strong>spawn-process</strong></a></h3>
<h3 id="wait-1"><a class="header" href="#wait-1"><strong>wait</strong></a></h3>
<h3 id="wait-stdout-1"><a class="header" href="#wait-stdout-1"><strong>wait-&gt;stdout</strong></a></h3>
<h3 id="which-1"><a class="header" href="#which-1"><strong>which</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelrandom-1"><a class="header" href="#steelrandom-1">steel/random</a></h1>
<h3 id="rng-gen-range"><a class="header" href="#rng-gen-range"><strong>rng-&gt;gen-range</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelsets-1"><a class="header" href="#steelsets-1">steel/sets</a></h1>
<h3 id="hashset-1"><a class="header" href="#hashset-1"><strong>hashset</strong></a></h3>
<h3 id="hashset-list-1"><a class="header" href="#hashset-list-1"><strong>hashset-&gt;list</strong></a></h3>
<h3 id="hashset-vector-1"><a class="header" href="#hashset-vector-1"><strong>hashset-&gt;vector</strong></a></h3>
<h3 id="hashset-clear-1"><a class="header" href="#hashset-clear-1"><strong>hashset-clear</strong></a></h3>
<h3 id="hashset-contains-1"><a class="header" href="#hashset-contains-1"><strong>hashset-contains?</strong></a></h3>
<h3 id="hashset-insert-1"><a class="header" href="#hashset-insert-1"><strong>hashset-insert</strong></a></h3>
<h3 id="hashset-length-1"><a class="header" href="#hashset-length-1"><strong>hashset-length</strong></a></h3>
<h3 id="hashset-subset-1"><a class="header" href="#hashset-subset-1"><strong>hashset-subset?</strong></a></h3>
<h3 id="list-hashset-1"><a class="header" href="#list-hashset-1"><strong>list-&gt;hashset</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelstreams-1"><a class="header" href="#steelstreams-1">steel/streams</a></h1>
<h3 id="stream-cdr-1"><a class="header" href="#stream-cdr-1"><strong>#%stream-cdr</strong></a></h3>
<h3 id="empty-stream-1"><a class="header" href="#empty-stream-1"><strong>empty-stream</strong></a></h3>
<h3 id="stream-car-1"><a class="header" href="#stream-car-1"><strong>stream-car</strong></a></h3>
<h3 id="stream-cons-1"><a class="header" href="#stream-cons-1"><strong>stream-cons</strong></a></h3>
<h3 id="stream-empty-1"><a class="header" href="#stream-empty-1"><strong>stream-empty?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelstrings-1"><a class="header" href="#steelstrings-1">steel/strings</a></h1>
<h4 id="steelstrings-2"><a class="header" href="#steelstrings-2">steel/strings</a></h4>
<p>Strings in Steel are immutable, fixed length arrays of characters. They are heap allocated, and
are implemented under the hood as referenced counted Rust <code>Strings</code>. Rust <code>Strings</code> are stored
as UTF-8 encoded bytes.</p>
<h3 id="char-3"><a class="header" href="#char-3"><strong>char=?</strong></a></h3>
<p>Checks if two characters are equal</p>
<p>Requires that the two inputs are both characters, and will otherwise
raise an error.</p>
<h3 id="ends-with-3"><a class="header" href="#ends-with-3"><strong>ends-with?</strong></a></h3>
<p>Checks if the input string ends with a given suffix</p>
<p>(ends-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-148"><a class="header" href="#examples-148">Examples</a></h4>
<pre><code class="language-scheme">&gt; (ends-with? "foobar" "foo") ;; =&gt; #false
&gt; (ends-with? "foobar" "bar") ;; =&gt; #true
</code></pre>
<h3 id="int-string-3"><a class="header" href="#int-string-3"><strong>int-&gt;string</strong></a></h3>
<p>Converts an integer into a string.</p>
<p>(int-&gt;string int?) -&gt; string?</p>
<h4 id="examples-149"><a class="header" href="#examples-149">Examples</a></h4>
<pre><code class="language-scheme">&gt; (int-&gt;string 10) ;; =&gt; "10"
</code></pre>
<h3 id="number-string-1"><a class="header" href="#number-string-1"><strong>number-&gt;string</strong></a></h3>
<p>Converts the given number to a string</p>
<h3 id="split-whitespace-2"><a class="header" href="#split-whitespace-2"><strong>split-whitespace</strong></a></h3>
<p>Returns a list of strings from the original string split on the whitespace</p>
<p>(split-whitespace string?) -&gt; (listof string?)</p>
<h4 id="examples-150"><a class="header" href="#examples-150">Examples</a></h4>
<pre><code class="language-scheme">(split-whitespace "apples bananas fruits veggies") ;; '("apples" "bananas" "fruits" "veggies")
</code></pre>
<h3 id="starts-with-3"><a class="header" href="#starts-with-3"><strong>starts-with?</strong></a></h3>
<p>Checks if the input string starts with a prefix</p>
<p>(starts-with? input pattern) -&gt; bool?</p>
<p>input : string?
pattern: string?</p>
<h4 id="examples-151"><a class="header" href="#examples-151">Examples</a></h4>
<pre><code class="language-scheme">&gt; (starts-with? "foobar" "foo") ;; =&gt; #true
&gt; (starts-with? "foobar" "bar") ;; =&gt; #false
</code></pre>
<h3 id="string-8"><a class="header" href="#string-8"><strong>string</strong></a></h3>
<p>Constructs a string from the given characters</p>
<h3 id="string-int-3"><a class="header" href="#string-int-3"><strong>string-&gt;int</strong></a></h3>
<p>Converts a string into an int. Raises an error if the string cannot be converted to an integer.</p>
<p>(string-&gt;int string?) -&gt; int?</p>
<h4 id="examples-152"><a class="header" href="#examples-152">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;int "100") ;; =&gt; 10
&gt; (string-&gt;int "not-an-int") ;; error
</code></pre>
<h3 id="string-list-3"><a class="header" href="#string-list-3"><strong>string-&gt;list</strong></a></h3>
<p>Converts a string into a list of characters.</p>
<p>(string-&gt;list string?) -&gt; (listof char?)</p>
<h4 id="examples-153"><a class="header" href="#examples-153">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;list "hello") ;; =&gt; '(#\h #\e #\l #\l #\o)
</code></pre>
<h3 id="string-lower-2"><a class="header" href="#string-lower-2"><strong>string-&gt;lower</strong></a></h3>
<p>Creates a new lowercased version of the input string</p>
<p>(string-&gt;lower string?) -&gt; string?</p>
<h4 id="examples-154"><a class="header" href="#examples-154">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;lower "sPonGeBoB tExT") ;; =&gt; "spongebob text"
</code></pre>
<h3 id="string-number-1"><a class="header" href="#string-number-1"><strong>string-&gt;number</strong></a></h3>
<p>Converts the given string to a number</p>
<h3 id="string-symbol-3"><a class="header" href="#string-symbol-3"><strong>string-&gt;symbol</strong></a></h3>
<p>Converts a string into a symbol.</p>
<p>(string-&gt;symbol string?) -&gt; symbol?</p>
<h4 id="examples-155"><a class="header" href="#examples-155">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;symbol "FooBar") ;; =&gt; 'FooBar
</code></pre>
<h3 id="string-upper-3"><a class="header" href="#string-upper-3"><strong>string-&gt;upper</strong></a></h3>
<p>Creates a new uppercased version of the input string</p>
<p>(string-&gt;upper string?) -&gt; string?</p>
<h4 id="examples-156"><a class="header" href="#examples-156">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-&gt;upper "lower") ;; =&gt; "LOWER"
</code></pre>
<h3 id="string-append-3"><a class="header" href="#string-append-3"><strong>string-append</strong></a></h3>
<p>Concatenates all of the given strings into one</p>
<p>(string-append strs...) -&gt; string?</p>
<ul>
<li>strs ... : string?</li>
</ul>
<h4 id="examples-157"><a class="header" href="#examples-157">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-append) ;; =&gt; ""
&gt; (string-append "foo" "bar") ;; =&gt; "foobar"
</code></pre>
<h3 id="string-length-3"><a class="header" href="#string-length-3"><strong>string-length</strong></a></h3>
<p>Get the length of the given string in UTF-8 bytes.</p>
<p>(string-length string?) -&gt; int?</p>
<h4 id="examples-158"><a class="header" href="#examples-158">Examples</a></h4>
<pre><code class="language-scheme">&gt; (string-length "apples") ;; =&gt; 6
&gt; (string-length "✅") ;; =&gt; 3
&gt; (string-length "🤖") ;; =&gt; 4
</code></pre>
<h3 id="to-string-2"><a class="header" href="#to-string-2"><strong>to-string</strong></a></h3>
<p>Concatenatives all of the inputs to their string representation, separated by spaces.</p>
<p>(to-string xs ...)</p>
<ul>
<li>xs : any/c</li>
</ul>
<h4 id="examples-159"><a class="header" href="#examples-159">Examples</a></h4>
<pre><code class="language-scheme">&gt; (to-string 10) ;; =&gt; "10"
&gt; (to-string 10 20) ;; =&gt; "10 20"
&gt; (to-string "hello" "world") ;; =&gt; "hello world"
</code></pre>
<h3 id="trim-3"><a class="header" href="#trim-3"><strong>trim</strong></a></h3>
<p>Returns a new string with the leading and trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-160"><a class="header" href="#examples-160">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo"
</code></pre>
<h3 id="trim-end-3"><a class="header" href="#trim-end-3"><strong>trim-end</strong></a></h3>
<p>Returns a new string with the trailing whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-161"><a class="header" href="#examples-161">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "   foo"
</code></pre>
<h3 id="trim-end-matches-1"><a class="header" href="#trim-end-matches-1"><strong>trim-end-matches</strong></a></h3>
<p>Returns a new string with the given <code>pat</code> repeatedly removed from the end
of the string</p>
<pre><code class="language-scheme">(trim-end-matches string? string?) -&gt; string?
</code></pre>
<h4 id="examples-162"><a class="header" href="#examples-162">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim-end-matches "123foo1bar123123" "123") ;; =&gt; "123foo1bar"
</code></pre>
<h3 id="trim-start-3"><a class="header" href="#trim-start-3"><strong>trim-start</strong></a></h3>
<p>Returns a new string with the leading whitespace removed.</p>
<p>(trim string?) -&gt; string?</p>
<h4 id="examples-163"><a class="header" href="#examples-163">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim "   foo     ") ;; =&gt; "foo     "
</code></pre>
<h3 id="trim-start-matches-1"><a class="header" href="#trim-start-matches-1"><strong>trim-start-matches</strong></a></h3>
<p>Returns a new string with the given <code>pat</code> repeatedly removed from the start
of the string</p>
<pre><code class="language-scheme">(trim-start-matches string? string?) -&gt; string?
</code></pre>
<h4 id="examples-164"><a class="header" href="#examples-164">Examples</a></h4>
<pre><code class="language-scheme">&gt; (trim-start-matches "123foo1bar123123" "123") ;; =&gt; "foo1bar123123"
</code></pre>
<h3 id="char-number-1"><a class="header" href="#char-number-1"><strong>char-&gt;number</strong></a></h3>
<h3 id="char-digit-1"><a class="header" href="#char-digit-1"><strong>char-digit?</strong></a></h3>
<h3 id="char-upcase-1"><a class="header" href="#char-upcase-1"><strong>char-upcase</strong></a></h3>
<h3 id="char-whitespace-1"><a class="header" href="#char-whitespace-1"><strong>char-whitespace?</strong></a></h3>
<h3 id="make-string-1"><a class="header" href="#make-string-1"><strong>make-string</strong></a></h3>
<h3 id="split-many-1"><a class="header" href="#split-many-1"><strong>split-many</strong></a></h3>
<h3 id="split-once-1"><a class="header" href="#split-once-1"><strong>split-once</strong></a></h3>
<h3 id="string-ci-5"><a class="header" href="#string-ci-5"><strong>string-ci&lt;=?</strong></a></h3>
<h3 id="string-ci-6"><a class="header" href="#string-ci-6"><strong>string-ci&lt;?</strong></a></h3>
<h3 id="string-ci-7"><a class="header" href="#string-ci-7"><strong>string-ci=?</strong></a></h3>
<h3 id="string-ci-8"><a class="header" href="#string-ci-8"><strong>string-ci&gt;=?</strong></a></h3>
<h3 id="string-ci-9"><a class="header" href="#string-ci-9"><strong>string-ci&gt;?</strong></a></h3>
<h3 id="string-ref-1"><a class="header" href="#string-ref-1"><strong>string-ref</strong></a></h3>
<h3 id="string-replace-1"><a class="header" href="#string-replace-1"><strong>string-replace</strong></a></h3>
<h3 id="string-9"><a class="header" href="#string-9"><strong>string&lt;=?</strong></a></h3>
<h3 id="string-10"><a class="header" href="#string-10"><strong>string&lt;?</strong></a></h3>
<h3 id="string-11"><a class="header" href="#string-11"><strong>string=?</strong></a></h3>
<h3 id="string-12"><a class="header" href="#string-12"><strong>string&gt;=?</strong></a></h3>
<h3 id="string-13"><a class="header" href="#string-13"><strong>string&gt;?</strong></a></h3>
<h3 id="substring-1"><a class="header" href="#substring-1"><strong>substring</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelsymbols-1"><a class="header" href="#steelsymbols-1">steel/symbols</a></h1>
<h3 id="concat-symbols-1"><a class="header" href="#concat-symbols-1"><strong>concat-symbols</strong></a></h3>
<h3 id="symbol-string-1"><a class="header" href="#symbol-string-1"><strong>symbol-&gt;string</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelsyntax-1"><a class="header" href="#steelsyntax-1">steel/syntax</a></h1>
<h3 id="debug-syntax-exprkind-1"><a class="header" href="#debug-syntax-exprkind-1"><strong>#%debug-syntax-&gt;exprkind</strong></a></h3>
<h3 id="syntaxraw-1"><a class="header" href="#syntaxraw-1"><strong>#%syntax/raw</strong></a></h3>
<h3 id="syntax-datum-1"><a class="header" href="#syntax-datum-1"><strong>syntax-&gt;datum</strong></a></h3>
<h3 id="syntax-e-1"><a class="header" href="#syntax-e-1"><strong>syntax-e</strong></a></h3>
<h3 id="syntax-loc-1"><a class="header" href="#syntax-loc-1"><strong>syntax-loc</strong></a></h3>
<h3 id="syntax-span-1"><a class="header" href="#syntax-span-1"><strong>syntax-span</strong></a></h3>
<h3 id="syntaxloc-1"><a class="header" href="#syntaxloc-1"><strong>syntax/loc</strong></a></h3>
<h3 id="syntax-2"><a class="header" href="#syntax-2"><strong>syntax?</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steeltime-3"><a class="header" href="#steeltime-3">steel/time</a></h1>
<h4 id="steeltime-4"><a class="header" href="#steeltime-4">steel/time</a></h4>
<p>Contains direct wrappers around the Rust <code>std::time::Instant</code> and <code>std::time::Duration</code> modules.
For example, to measure the time something takes:</p>
<pre><code class="language-scheme">(define t (instant/now))
(displayln "Hello world")
(displayln (instant/elapsed t))
</code></pre>
<h3 id="current-inexact-milliseconds-1"><a class="header" href="#current-inexact-milliseconds-1"><strong>current-inexact-milliseconds</strong></a></h3>
<h3 id="current-milliseconds-1"><a class="header" href="#current-milliseconds-1"><strong>current-milliseconds</strong></a></h3>
<h3 id="current-second-1"><a class="header" href="#current-second-1"><strong>current-second</strong></a></h3>
<h3 id="duration-seconds-1"><a class="header" href="#duration-seconds-1"><strong>duration-&gt;seconds</strong></a></h3>
<h3 id="duration-string-1"><a class="header" href="#duration-string-1"><strong>duration-&gt;string</strong></a></h3>
<h3 id="duration-since-1"><a class="header" href="#duration-since-1"><strong>duration-since</strong></a></h3>
<h3 id="instantelapsed-1"><a class="header" href="#instantelapsed-1"><strong>instant/elapsed</strong></a></h3>
<h3 id="instantnow-1"><a class="header" href="#instantnow-1"><strong>instant/now</strong></a></h3>
<h3 id="local-timenow-1"><a class="header" href="#local-timenow-1"><strong>local-time/now!</strong></a></h3>
<h3 id="timesleep-ms-1"><a class="header" href="#timesleep-ms-1"><strong>time/sleep-ms</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steeltransducers-1"><a class="header" href="#steeltransducers-1">steel/transducers</a></h1>
<h3 id="compose-1"><a class="header" href="#compose-1"><strong>compose</strong></a></h3>
<h3 id="dropping-1"><a class="header" href="#dropping-1"><strong>dropping</strong></a></h3>
<h3 id="enumerating-1"><a class="header" href="#enumerating-1"><strong>enumerating</strong></a></h3>
<h3 id="extending-1"><a class="header" href="#extending-1"><strong>extending</strong></a></h3>
<h3 id="filtering-1"><a class="header" href="#filtering-1"><strong>filtering</strong></a></h3>
<h3 id="flat-mapping-1"><a class="header" href="#flat-mapping-1"><strong>flat-mapping</strong></a></h3>
<h3 id="flattening-1"><a class="header" href="#flattening-1"><strong>flattening</strong></a></h3>
<h3 id="interleaving-1"><a class="header" href="#interleaving-1"><strong>interleaving</strong></a></h3>
<h3 id="into-count-1"><a class="header" href="#into-count-1"><strong>into-count</strong></a></h3>
<h3 id="into-for-each-1"><a class="header" href="#into-for-each-1"><strong>into-for-each</strong></a></h3>
<h3 id="into-hashmap-1"><a class="header" href="#into-hashmap-1"><strong>into-hashmap</strong></a></h3>
<h3 id="into-hashset-1"><a class="header" href="#into-hashset-1"><strong>into-hashset</strong></a></h3>
<h3 id="into-last-1"><a class="header" href="#into-last-1"><strong>into-last</strong></a></h3>
<h3 id="into-list-1"><a class="header" href="#into-list-1"><strong>into-list</strong></a></h3>
<h3 id="into-max-1"><a class="header" href="#into-max-1"><strong>into-max</strong></a></h3>
<h3 id="into-min-1"><a class="header" href="#into-min-1"><strong>into-min</strong></a></h3>
<h3 id="into-nth-1"><a class="header" href="#into-nth-1"><strong>into-nth</strong></a></h3>
<h3 id="into-product-1"><a class="header" href="#into-product-1"><strong>into-product</strong></a></h3>
<h3 id="into-reducer-1"><a class="header" href="#into-reducer-1"><strong>into-reducer</strong></a></h3>
<h3 id="into-string-1"><a class="header" href="#into-string-1"><strong>into-string</strong></a></h3>
<h3 id="into-sum-1"><a class="header" href="#into-sum-1"><strong>into-sum</strong></a></h3>
<h3 id="into-vector-1"><a class="header" href="#into-vector-1"><strong>into-vector</strong></a></h3>
<h3 id="mapping-1"><a class="header" href="#mapping-1"><strong>mapping</strong></a></h3>
<h3 id="taking-1"><a class="header" href="#taking-1"><strong>taking</strong></a></h3>
<h3 id="zipping-1"><a class="header" href="#zipping-1"><strong>zipping</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="steelvectors-1"><a class="header" href="#steelvectors-1">steel/vectors</a></h1>
<h3 id="make-vector-1"><a class="header" href="#make-vector-1"><strong>make-vector</strong></a></h3>
<h3 id="mut-vec-len-1"><a class="header" href="#mut-vec-len-1"><strong>mut-vec-len</strong></a></h3>
<h3 id="mut-vector-ref-1"><a class="header" href="#mut-vector-ref-1"><strong>mut-vector-ref</strong></a></h3>
<h3 id="mutable-vector-4"><a class="header" href="#mutable-vector-4"><strong>mutable-vector</strong></a></h3>
<h3 id="mutable-vector-list-1"><a class="header" href="#mutable-vector-list-1"><strong>mutable-vector-&gt;list</strong></a></h3>
<h3 id="null-1"><a class="header" href="#null-1"><strong>null?</strong></a></h3>
<h3 id="pop-front-1"><a class="header" href="#pop-front-1"><strong>pop-front</strong></a></h3>
<h3 id="push-1"><a class="header" href="#push-1"><strong>push</strong></a></h3>
<h3 id="push-front-1"><a class="header" href="#push-front-1"><strong>push-front</strong></a></h3>
<h3 id="range-vec-1"><a class="header" href="#range-vec-1"><strong>range-vec</strong></a></h3>
<h3 id="vec-append-1"><a class="header" href="#vec-append-1"><strong>vec-append</strong></a></h3>
<h3 id="vec-rest-1"><a class="header" href="#vec-rest-1"><strong>vec-rest</strong></a></h3>
<h3 id="vector-3"><a class="header" href="#vector-3"><strong>vector</strong></a></h3>
<h3 id="vector-append-1"><a class="header" href="#vector-append-1"><strong>vector-append!</strong></a></h3>
<h3 id="vector-length-1"><a class="header" href="#vector-length-1"><strong>vector-length</strong></a></h3>
<h3 id="vector-push-1"><a class="header" href="#vector-push-1"><strong>vector-push!</strong></a></h3>
<h3 id="vector-ref-1"><a class="header" href="#vector-ref-1"><strong>vector-ref</strong></a></h3>
<h3 id="vector-set-1"><a class="header" href="#vector-set-1"><strong>vector-set!</strong></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bytecode-1"><a class="header" href="#bytecode-1">Bytecode</a></h1>
<!-- These are the current bytecode opcodes:

| Op Code | Description |
| ------- | ----------- |
| VOID | |
| PUSH |
| LOOKUP | 
| IF |
| JMP |
| FUNC |
| SCLOSURE |
| ECLOSURE |
| STRUCT |
| POP | 
| BIND |
| SDEF |
| EDEF |
| PASS |
| PUSHCONST |
| NDEFS |
| EVAL |
| PANIC |
| CLEAR |
| TAILCALL
| APPLY
| SET
| COLLECT
| TRANSDUCE
| READ
| COLLECTTO
| METALOOKUP
| CALLCC
| READLOCAL
| SETLOCAL
| READUPVALUE
| SETUPVALUE
| FILLUPVALUE
| FILLLOCALUPVALUE
| CLOSEUPVALUE | // Should be 1 for close, 0 for not
| TCOJMP
| CALLGLOBAL
| CALLGLOBALTAIL
| LOADINT0 | // Load const 0
| LOADINT1
| LOADINT2
| CGLOCALCONST -->
<div style="break-before: page; page-break-before: always;"></div><h1 id="optimizations"><a class="header" href="#optimizations">Optimizations</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="benchmarks"><a class="header" href="#benchmarks">Benchmarks</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interior-mutability"><a class="header" href="#interior-mutability">Interior Mutability</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="async"><a class="header" href="#async">Async</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memory-management"><a class="header" href="#memory-management">Memory management</a></h1>
<p>Steel uses a combination of reference counting and a mark and sweep garbage collector in order to manage memory. Important notes regarding this:</p>
<ol>
<li>
<p>All immutable values are reference counted, this includes built in data structures such as:</p>
<ul>
<li>Lists</li>
<li>Immutable vectors</li>
<li>Hash maps</li>
<li>Hash sets</li>
<li>Strings</li>
<li>Pairs</li>
<li>Big integers</li>
<li>Symbols (although, most are interned)</li>
</ul>
</li>
<li>
<p>All primitive types are unboxed, these include:</p>
<ul>
<li>Characters</li>
<li>booleans</li>
<li>floats (f64)</li>
<li>integers (isize)</li>
<li>the <code>#&lt;void&gt;</code> type</li>
</ul>
</li>
<li>
<p>Mutable values are transformed into <code>boxes</code> - which are mutable memory locations managed by the garbage collector.</p>
</li>
<li>
<p>Mutable vectos are a special form handled by the garbage collector as well.</p>
</li>
<li>
<p>Mutable structs, are immutable vectors with boxes in each slot for each mutable memory location.</p>
</li>
<li>
<p>Heap allocated boxes are weak references to a reference counted pointer living in the heap. Thus, even memory managed by the garbage collector is also reference counted. This means that unboxing a mutable memory location requires two pointer jumps - first the weak pointer to the heap, then the strong pointer to the underlying value.</p>
<ul>
<li>A nice consequence of this is that we can perform fast collections for unreachable values managed by the heap without having to perform a mark and sweep.</li>
</ul>
</li>
</ol>
<h2 id="reference-counting-optimizations"><a class="header" href="#reference-counting-optimizations">Reference counting optimizations</a></h2>
<p>One consequence of using reference counted variables is that there will be a non trivial amount of time spent performing reference count operations on values coming and going from the stack. The steel compiler and vm performs a few optimizations to reduce the reference counting thrash, and also to improve the usage of the functional data structures built in.</p>
<p>Consider the following:</p>
<pre><code class="language-scheme">
(define (reverse input output)
  (if (null? input)
    output
    (reverse (cdr input) (cons (car input) output))))

(reverse (list 10 20 30 40) '()) ;; =&gt; (list 40 30 20 10)

</code></pre>
<p>This is a simple function that takes an input list and reverses it. It does so recursively, calling <code>reverse</code> in tail position, meaning we'll get a tail call optimization and this gets converted into a <code>JUMP</code> in the VM.</p>
<p>Lists in Steel aren't your classic cons cells - they're implemented more like unrolled linked lists or vlists - meaning they're more like chunks of large contiguous vectors strung together. Copying those on each write to it would be silly, so the compiler analyzes a function and attempts to find the last usage of variable. For every last usage of a variable, the VM doesn't just copy the value from the stack, it actually <em>moves</em> it off of the VM stack - meaning the reference count has the potential to be 1 by the time it hits the last usage of a variable.</p>
<p>When the reference count is 1, we can perform an in-place mutation of the resulting list - which gives us a nice performance win! So in the above snippet, we see the following bytecode:</p>
<pre><code>0     SDEF           : 0      reverse
1     PUREFUNC       : 21     lambda
2     PASS           : 0      
3     PASS           : 256    
4     READLOCAL0     : 0      input
5     CALLGLOBAL     : 155    null?
6     FUNC           : 1      null?
7     IF             : 6      
8     READLOCAL1     : 1      output
9     JMP            : 17     
10    READLOCAL0     : 0      input
11    CALLGLOBAL     : 86     cdr
12    FUNC           : 1      cdr
13    MOVEREADLOCAL0 : 0      input ;; &lt;- Last usage of input
14    CALLGLOBAL     : 92     car
15    FUNC           : 1      car
16    MOVEREADLOCAL1 : 1      output ;; &lt;- last usage of output
17    CALLGLOBAL     : 94     cons
18    FUNC           : 2      cons
19    TCOJMP         : 2      reverse
20    PASS           : 0      
21    POPPURE        : 2      
22    ECLOSURE       : 2      
23    EDEF           : 0      
24    BIND           : 975    reverse
25    VOID           : 0      
26    POPPURE        : 0      
</code></pre>
<p>Which corresponds to these call sites:</p>
<pre><code class="language-scheme">
(define (reverse input output)
  (if (null? input)
    output
    (reverse (cdr input) (cons (car input) output))))
                                    ^^^^^  ^^^^^^
</code></pre>
<p>In this case, the mutation of <code>output</code> is great - since we can <code>cons</code> onto the list and this under the hood is just a push onto the underlying vector. However, for input it doesn't mean much; <code>car</code> is a reference operation and has no optimizations associated with it. The compiler isn't quite smart enough to do this <em>yet</em>, but rewriting this slightly, we can get the optimization we want:</p>
<pre><code class="language-scheme">
(define (reverse input output)
  (if (null? input)
      output
      (let ([first-element (car input)]) 
        (reverse (cdr input) (cons first-element output)))))
                                    
</code></pre>
<p>Which results in this bytecode:</p>
<pre><code>0     SDEF           : 0      reverse
1     PUREFUNC       : 24     lambda
2     PASS           : 0      
3     PASS           : 256    
4     READLOCAL0     : 0      input
5     CALLGLOBAL     : 156    null?
6     FUNC           : 1      null?
7     IF             : 6      
8     READLOCAL1     : 1      output
9     JMP            : 20     
10    BEGINSCOPE     : 0      
11    READLOCAL0     : 0      input
12    CALLGLOBAL     : 98     car
13    FUNC           : 1      car
14    MOVEREADLOCAL0 : 0      input ;; &lt;- Here
15    CALLGLOBAL     : 97     cdr
16    FUNC           : 1      cdr
17    READLOCAL2     : 2      first-element
18    MOVEREADLOCAL1 : 1      output ;; &lt;- Here
19    CALLGLOBAL     : 86     cons
20    FUNC           : 2      cons
21    TCOJMP         : 2      reverse
22    PASS           : 0      
23    LETENDSCOPE    : 2      
24    POPPURE        : 2      
25    ECLOSURE       : 2      
26    EDEF           : 0      
27    BIND           : 975    reverse
28    VOID           : 0      
29    POPPURE        : 0      

</code></pre>
<p><code>cdr</code> when coupled with a unique list will just move the view of the underlying storage over one element - the element is still <em>there</em> - but we don't see it, and it means we don't have to allocate a new list (since in this new world, <code>cdr</code> <em>can</em> allocate). But - we get some nice cache locality for this!</p>
<p>The first example takes 123 ms to reverse a list of 100000 - whereas the second example takes only 23 ms! In racket, the equivalent code takes somewhere between 2 and 5 ms.</p>
<p>Another toy example of this optimization can be seen here, comparing Steel to Racket:</p>
<pre><code class="language-scheme">
(define values-to-insert 
  (map (lambda (n) 
    (cons (number-&gt;string n) n)) (range 0 10000)))

(define (hash-insert-loop-test hmap values)
  (if (null? values)
      hmap
      (let ([p (car values)])
        (hash-insert-loop-test (hash-insert hmap (car p) (cdr p)) (cdr values)))))

(hash-insert-loop-test (hash) values-to-insert)
</code></pre>
<p>This snippet takes about 10-20 ms on my machine, and the equivalent body of code in Racket (replacing <code>hash-insert</code> with <code>hash-set</code>) takes about 8 ms. So this is a nice win. Without this optimization for hash maps, the same code took 5 seconds!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
